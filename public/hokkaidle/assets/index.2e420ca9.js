(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function rt(){}const Wo=t=>t;function la(t,e){for(const n in e)t[n]=e[n];return t}function Vo(t){return t()}function Or(){return Object.create(null)}function Kt(t){t.forEach(Vo)}function te(t){return typeof t=="function"}function Lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ua(t){return Object.keys(t).length===0}function ca(t,e,n,i){if(t){const r=Ho(t,e,n,i);return t[0](r)}}function Ho(t,e,n,i){return t[1]&&i?la(n.ctx.slice(),t[1](i(e))):n.ctx}function fa(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let a=0;a<s;a+=1)o[a]=e.dirty[a]|r[a];return o}return e.dirty|r}return e.dirty}function ha(t,e,n,i,r,o){if(r){const s=Ho(e,n,i,o);t.p(s,r)}}function da(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function lt(t){return t==null?"":t}const jo=typeof window<"u";let pa=jo?()=>window.performance.now():()=>Date.now(),ir=jo?t=>requestAnimationFrame(t):rt;const ve=new Set;function Xo(t){ve.forEach(e=>{e.c(t)||(ve.delete(e),e.f())}),ve.size!==0&&ir(Xo)}function ga(t){let e;return ve.size===0&&ir(Xo),{promise:new Promise(n=>{ve.add(e={c:t,f:n})}),abort(){ve.delete(e)}}}function A(t,e){t.appendChild(e)}function Yo(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function va(t){const e=I("style");return ma(Yo(t),e),e.sheet}function ma(t,e){A(t.head||t,e)}function nt(t,e,n){t.insertBefore(e,n||null)}function J(t){t.parentNode.removeChild(t)}function Un(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function zt(t){return document.createTextNode(t)}function ot(){return zt(" ")}function Go(){return zt("")}function bt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ya(t){return Array.from(t.childNodes)}function Qe(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Tr(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Y(t,e,n){t.classList[n?"add":"remove"](e)}function Ko(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}const Tn=new Map;let zn=0;function _a(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function wa(t,e){const n={stylesheet:va(e),rules:{}};return Tn.set(t,n),n}function zr(t,e,n,i,r,o,s,a=0){const c=16.666/i;let u=`{
`;for(let p=0;p<=1;p+=c){const g=e+(n-e)*o(p);u+=p*100+`%{${s(g,1-g)}}
`}const l=u+`100% {${s(n,1-n)}}
}`,f=`__svelte_${_a(l)}_${a}`,h=Yo(t),{stylesheet:d,rules:v}=Tn.get(h)||wa(h,t);v[f]||(v[f]=!0,d.insertRule(`@keyframes ${f} ${l}`,d.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${f} ${i}ms linear ${r}ms 1 both`,zn+=1,f}function ba(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),zn-=r,zn||Sa())}function Sa(){ir(()=>{zn||(Tn.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),Tn.clear())})}let He;function Ve(t){He=t}function $e(){if(!He)throw new Error("Function called outside component initialization");return He}function rr(t){$e().$$.on_mount.push(t)}function Ma(t){$e().$$.on_destroy.push(t)}function Ea(){const t=$e();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=Ko(e,n,{cancelable:i});return r.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function ka(t,e){return $e().$$.context.set(t,e),e}function xa(t){return $e().$$.context.get(t)}const Ne=[],At=[],Mn=[],Oi=[],Ca=Promise.resolve();let Ti=!1;function Pa(){Ti||(Ti=!0,Ca.then(Uo))}function ie(t){Mn.push(t)}function fi(t){Oi.push(t)}const hi=new Set;let hn=0;function Uo(){const t=He;do{for(;hn<Ne.length;){const e=Ne[hn];hn++,Ve(e),Oa(e.$$)}for(Ve(null),Ne.length=0,hn=0;At.length;)At.pop()();for(let e=0;e<Mn.length;e+=1){const n=Mn[e];hi.has(n)||(hi.add(n),n())}Mn.length=0}while(Ne.length);for(;Oi.length;)Oi.pop()();Ti=!1,hi.clear(),Ve(t)}function Oa(t){if(t.fragment!==null){t.update(),Kt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ie)}}let Ce;function Ta(){return Ce||(Ce=Promise.resolve(),Ce.then(()=>{Ce=null})),Ce}function di(t,e,n){t.dispatchEvent(Ko(`${e?"intro":"outro"}${n}`))}const En=new Set;let Xt;function Nt(){Xt={r:0,c:[],p:Xt}}function Bt(){Xt.r||Kt(Xt.c),Xt=Xt.p}function F(t,e){t&&t.i&&(En.delete(t),t.i(e))}function H(t,e,n,i){if(t&&t.o){if(En.has(t))return;En.add(t),Xt.c.push(()=>{En.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const za={duration:0};function pe(t,e,n,i){let r=e(t,n),o=i?0:1,s=null,a=null,c=null;function u(){c&&ba(t,c)}function l(h,d){const v=h.b-o;return d*=Math.abs(v),{a:o,b:h.b,d:v,duration:d,start:h.start,end:h.start+d,group:h.group}}function f(h){const{delay:d=0,duration:v=300,easing:y=Wo,tick:p=rt,css:g}=r||za,_={start:pa()+d,b:h};h||(_.group=Xt,Xt.r+=1),s||a?a=_:(g&&(u(),c=zr(t,o,h,v,d,y,g)),h&&p(0,1),s=l(_,v),ie(()=>di(t,h,"start")),ga(S=>{if(a&&S>a.start&&(s=l(a,v),a=null,di(t,s.b,"start"),g&&(u(),c=zr(t,o,s.b,s.duration,0,y,r.css))),s){if(S>=s.end)p(o=s.b,1-o),di(t,s.b,"end"),a||(s.b?u():--s.group.r||Kt(s.group.c)),s=null;else if(S>=s.start){const k=S-s.start;o=s.a+s.d*y(k/s.duration),p(o,1-o)}}return!!(s||a)}))}return{run(h){te(r)?Ta().then(()=>{r=r(),f(h)}):f(h)},end(){u(),s=a=null}}}const Aa=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function pi(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function _t(t){t&&t.c()}function ft(t,e,n,i){const{fragment:r,on_mount:o,on_destroy:s,after_update:a}=t.$$;r&&r.m(e,n),i||ie(()=>{const c=o.map(Vo).filter(te);s?s.push(...c):Kt(c),t.$$.on_mount=[]}),a.forEach(ie)}function ht(t,e){const n=t.$$;n.fragment!==null&&(Kt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ra(t,e){t.$$.dirty[0]===-1&&(Ne.push(t),Pa(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function It(t,e,n,i,r,o,s,a=[-1]){const c=He;Ve(t);const u=t.$$={fragment:null,ctx:null,props:o,update:rt,not_equal:r,bound:Or(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Or(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(u.root);let l=!1;if(u.ctx=n?n(t,e.props||{},(f,h,...d)=>{const v=d.length?d[0]:h;return u.ctx&&r(u.ctx[f],u.ctx[f]=v)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](v),l&&Ra(t,f)),h}):[],u.update(),l=!0,Kt(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const f=ya(e.target);u.fragment&&u.fragment.l(f),f.forEach(J)}else u.fragment&&u.fragment.c();e.intro&&F(t.$$.fragment),ft(t,e.target,e.anchor,e.customElement),Uo()}Ve(c)}class Dt{$destroy(){ht(this,1),this.$destroy=rt}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!ua(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Na(t){let e,n,i,r,o;return{c(){e=I("div"),e.innerHTML='<span class="green svelte-150tfn7">HOKKAID</span>LE',n=ot(),i=I("div"),i.innerHTML=`<section class="svelte-150tfn7"><p class="svelte-150tfn7">\u5317\u6D77\u9053\u306E\u5E02\u753A\u6751\u3092\u5730\u56F3\u3067\u5F53\u3066\u308B\u30B2\u30FC\u30E0\u3067\u3059\u3002Inspired by <a href="https://sorami.dev" target="_blank" class="svelte-150tfn7">Wordle</a>.</p> 
    <p class="svelte-150tfn7">\u4ED6\u306B\u3082\u3001<a href="https://oec.world/en/tradle/" target="_blank" class="svelte-150tfn7">Tradle</a>\u3001
      <a href="https://worldle.teuteuf.fr/" target="_blank" class="svelte-150tfn7">Worldle</a>\u3001
      <a href="https://countryle.com/" target="_blank" class="svelte-150tfn7">Countryle</a>\u3001
      <a href="https://www.flagle.io/" target="_blank" class="svelte-150tfn7">Flagle</a>\u3001
      <a href="https://shikuchoson.jp/" target="_blank" class="svelte-150tfn7">ShiKuChoSon</a>\u306B\u30A4\u30F3\u30B9\u30D1\u30A4\u30A2\u3055\u308C\u307E\u3057\u305F\u3002</p></section> 

  <section class="svelte-150tfn7"><div class="heading svelte-150tfn7">\u904A\u3073\u65B9</div> 
    <p class="svelte-150tfn7">\u5317\u6D77\u9053\u306E\u5E02\u753A\u6751\u304C\u30E9\u30F3\u30C0\u30E0\u306B\u9078\u629E\u3055\u308C\u3001\u30DA\u30FC\u30B8\u4E0A\u90E8\u306B\u63D0\u793A\u3055\u308C\u307E\u3059\u3002\u5DE6\u5074\u306B\u3042\u308B\u300C\u76EE\u300D\u306E\u30A2\u30A4\u30B3\u30F3\u3067\u3001\u8868\u793A\u3059\u308B\u304B\u307C\u304B\u3059\u304B\u3092\u5207\u308A\u66FF\u3048\u3067\u304D\u307E\u3059\u3002</p> 
    <p class="svelte-150tfn7">\u5730\u56F3\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u3001\u5E02\u753A\u6751\u3092\u5F53\u3066\u3066\u304F\u3060\u3055\u3044\u3002\u5916\u308C\u305F\u5834\u5408\u306B\u306F<span class="gray svelte-150tfn7">\u7070\u8272</span>\u3001\u5916\u308C\u305F\u3051\u3069\u540C\u3058\u5730\u57DF\uFF08\u632F\u8208\u5C40\uFF09\u306B\u306F<span class="yellow svelte-150tfn7">\u9EC4\u8272</span>\u3001\u6B63\u89E3\u3057\u305F\u5834\u5408\u306B\u306F<span class="green svelte-150tfn7">\u7DD1\u8272</span>\u306B\u306A\u308A\u307E\u3059\u3002</p> 
    <p class="svelte-150tfn7">\u30AF\u30EA\u30C3\u30AF\u3057\u305F\u7D50\u679C\u306F\u3001\u30DA\u30FC\u30B8\u4E0B\u90E8\u306E\u30DE\u30B9\u76EE\u306B\u8868\u793A\u3055\u308C\u307E\u3059\u3002\u672C\u5BB6Wordle\u3068\u540C\u3058\u3088\u3046\u306B\u3001\u305D\u306E\u6587\u5B57\u304C\u6B63\u89E3\u5E02\u753A\u6751\u306B\u542B\u307E\u308C\u306A\u3044\u5834\u5408\u306F<span class="gray svelte-150tfn7">\u7070\u8272</span>\u3001\u542B\u307E\u308C\u308B\u304C\u4F4D\u7F6E\u304C\u9055\u3046\u5834\u5408\u306F<span class="yellow svelte-150tfn7">\u9EC4\u8272</span>\u3001\u542B\u307E\u308C\u3066\u3044\u3066\u304B\u3064\u4F4D\u7F6E\u304C\u540C\u3058\u5834\u5408\u306B\u306F<span class="green svelte-150tfn7">\u7DD1\u8272</span>\u306B\u306A\u308A\u307E\u3059\u3002\u307E\u305F\u30DE\u30B9\u76EE\u306E\u5DE6\u5074\u306B\u306F\u3001\u6B63\u89E3\u5E02\u753A\u6751\u3078\u306E\u5927\u307E\u304B\u306A\u8DDD\u96E2\u3068\u65B9\u89D2\u304C\u77E2\u5370\u3067\u8868\u3055\u308C\u307E\u3059\u3002\u30DE\u30B9\u76EE\u306E\u53F3\u5074\u306B\u3042\u308B\u300C?\u300D\u306E\u30A2\u30A4\u30B3\u30F3\u3092\u30DB\u30D0\u30FC/\u30BF\u30C3\u30C1\u3059\u308B\u3068\u3001Wikipedia\u306E\u6982\u8981\u6587\u3068\u30EA\u30F3\u30AF\u304C\u8868\u793A\u3055\u308C\u307E\u3059\u3002</p></section> 

  <section class="svelte-150tfn7"><div class="heading svelte-150tfn7">\u30C7\u30FC\u30BF</div> 
    <p class="svelte-150tfn7">\u5730\u5F62\u30C7\u30FC\u30BF\u306B\u306F\u3001<a href="https://nlftp.mlit.go.jp/ksj/" target="_blank" class="svelte-150tfn7">\u56FD\u571F\u6570\u5024\u60C5\u5831</a>\uFF08\u56FD\u571F\u4EA4\u901A\u7701\uFF09\u3092TopoJSON\u306B\u6574\u7406\u3057\u305F<a href="https://github.com/smartnews-smri/japan-topography" target="_blank" class="svelte-150tfn7">smartnews-smri/japan-topography</a>\uFF08\u30B9\u30DE\u30FC\u30C8\u30CB\u30E5\u30FC\u30B9
      \u30E1\u30C7\u30A3\u30A2\u7814\u7A76\u6240\uFF09\u3092\u57FA\u306B\u3001\u672D\u5E4C\u5E02\u306E\u533A\u90E8\u3092\u30DE\u30FC\u30B8\u3057\u305F\u3082\u306E\u3092\u5229\u7528\u3057\u3066\u3044\u307E\u3059\u3002\u30DE\u30FC\u30B8\u51E6\u7406\u306E\u8A73\u7D30\u306F\u3001\u6B21\u306E\u30CE\u30FC\u30C8\u30D6\u30C3\u30AF\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059:
      <a href="https://observablehq.com/@sorami/hokkaido-topojson-merge-sapporo" target="_blank" class="svelte-150tfn7">\u5317\u6D77\u9053\u306ETopoJSON: \u672D\u5E4C\u5E02\u306E\u533A\u3092\u30DE\u30FC\u30B8 / Sorami Hisamoto / Observable</a></p> 
    <p class="svelte-150tfn7">\u5E02\u753A\u6751\u306E\u4F4D\u7F6E\u60C5\u5831\u306B\u306F\u3001\u56FD\u571F\u6570\u5024\u60C5\u5831\u306E\u5E02\u533A\u753A\u6751\u5F79\u5834\u30C7\u30FC\u30BF\u3092\u57FA\u306B\u3057\u307E\u3057\u305F\u3002\u5F79\u5834\u306E\u5B58\u5728\u3057\u306A\u3044\u5317\u65B9\u5730\u57DF6\u6751\u306B\u3064\u3044\u3066\u306F\u3001Geoshape\u30EA\u30DD\u30B8\u30C8\u30EA\uFF08\u56FD\u7ACB\u60C5\u5831\u5B66\u7814\u7A76\u6240
      \u5317\u672C\u7814\u7A76\u5BA4\uFF09\u306E<a href="https://geoshape.ex.nii.ac.jp/city/" target="_blank" class="svelte-150tfn7">\u6B74\u53F2\u7684\u884C\u653F\u533A\u57DF\u30C7\u30FC\u30BF\u30BB\u30C3\u30C8\u03B2\u7248</a>\u3067\u6307\u5B9A\u3055\u308C\u3066\u3044\u308B\u4EE3\u8868\u70B9\u3092\u63A1\u7528\u3057\u307E\u3057\u305F\u3002</p> 
    <p class="svelte-150tfn7">\u5E02\u753A\u6751\u306E\u6982\u8981\u30C6\u30AD\u30B9\u30C8\u306B\u306F\u3001<a href="https://ja.wikipedia.org/" class="svelte-150tfn7">Wikipedia\u65E5\u672C\u8A9E\u7248</a>\u306E\u60C5\u5831\u3092\u30EA\u30F3\u30AF\u30C8\u30FB\u30AA\u30FC\u30D7\u30F3\u30FB\u30C7\u30FC\u30BF\u3068\u3057\u3066\u516C\u958B\u3057\u3066\u3044\u308B<a href="https://ja.dbpedia.org/" target="_blank" class="svelte-150tfn7">DBpedia Japanese</a>\u304B\u3089\u53D6\u5F97\u3057\u305F\u3082\u306E\u3092\u5229\u7528\u3057\u307E\u3057\u305F\u3002</p> 
    <p class="svelte-150tfn7">\u30C7\u30FC\u30BF\u6E96\u5099\u51E6\u7406\u306E\u8A73\u7D30\u306F\u3001\u6B21\u306E\u30CE\u30FC\u30C8\u30D6\u30C3\u30AF\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059: <a href="https://github.com/sorami/hokkaidle/blob/main/preprocess/preprocess.ipynb" target="_blank" class="svelte-150tfn7">hokkaidle/preprocess.ipynb at main \xB7 sorami/hokkaidle</a></p></section> 

  <section class="svelte-150tfn7"><div class="heading svelte-150tfn7">\u30E9\u30A4\u30D6\u30E9\u30EA</div> 
    <p class="svelte-150tfn7"><a href="https://d3js.org/" target="_blank" class="svelte-150tfn7">D3.js</a>,
      <a href="https://turfjs.org/" target="_blank" class="svelte-150tfn7">Turf.js</a>
      ,
      <a href="https://svelte.dev/" target="_blank" class="svelte-150tfn7">Svelte</a>,
      <a href="https://vitejs.dev/" target="_blank" class="svelte-150tfn7">Vite</a>,
      <a href="https://github.com/topojson/topojson-client" target="_blank" class="svelte-150tfn7">topojson/topojson-client</a>,
      <a href="https://github.com/flekschas/svelte-simple-modal" target="_blank" class="svelte-150tfn7">flekschas/svelte-simple-modal</a>,
      <a href="https://party.js.org/" target="_blank" class="svelte-150tfn7">party.js</a>,
      <a href="https://sass-lang.com/" target="_blank" class="svelte-150tfn7">Sass</a>,
      <a href="https://github.com/filipelinhares/ress" target="_blank" class="svelte-150tfn7">filipelinhares/ress</a>,
      <a href="https://fonts.google.com/icons" target="_blank" class="svelte-150tfn7">Material Icons</a></p> 
    <p class="svelte-150tfn7">\u30B3\u30FC\u30C9\u306FGitHub\u3067\u516C\u958B\u3057\u3066\u3044\u307E\u3059: <a href="https://github.com/sorami/hokkaidle" target="_blank" class="svelte-150tfn7">sorami/hokkaidle</a></p></section>`,r=ot(),o=I("footer"),o.innerHTML='<a href="https://sorami.dev/" target="_blank" class="svelte-150tfn7">sorami.dev</a>',P(e,"id","title"),P(e,"class","svelte-150tfn7"),P(i,"id","container"),P(i,"class","svelte-150tfn7"),P(o,"class","svelte-150tfn7")},m(s,a){nt(s,e,a),nt(s,n,a),nt(s,i,a),nt(s,r,a),nt(s,o,a)},p:rt,i:rt,o:rt,d(s){s&&J(e),s&&J(n),s&&J(i),s&&J(r),s&&J(o)}}}class Ba extends Dt{constructor(e){super(),It(this,e,null,Na,Lt,{})}}function La(t){let e,n,i,r,o,s,a,c,u;return{c(){e=I("header"),n=I("div"),i=I("div"),i.innerHTML='<a href="https://sorami.dev" target="_blank"><span class="material-symbols-outlined svelte-1vcza9o">cottage</span></a>',r=ot(),o=I("h1"),o.innerHTML='<span class="hokkaid svelte-1vcza9o">HOKKAID</span>LE',s=ot(),a=I("div"),a.innerHTML='<span class="material-symbols-outlined svelte-1vcza9o">info</span>',P(i,"class","icon svelte-1vcza9o"),P(o,"class","svelte-1vcza9o"),P(a,"class","icon svelte-1vcza9o"),P(n,"id","header-items"),P(n,"class","svelte-1vcza9o"),P(e,"class","svelte-1vcza9o")},m(l,f){nt(l,e,f),A(e,n),A(n,i),A(n,r),A(n,o),A(n,s),A(n,a),c||(u=[bt(o,"click",t[0]),bt(a,"click",t[0])],c=!0)},p:rt,i:rt,o:rt,d(l){l&&J(e),c=!1,Kt(u)}}}function Ia(t){const{open:e}=xa("simple-modal");return[()=>e(Ba)]}class Da extends Dt{constructor(e){super(),It(this,e,Ia,La,Lt,{})}}function zi(t,{delay:e=0,duration:n=400,easing:i=Wo}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:o=>`opacity: ${o*r}`}}class re{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=n[r],s=e+o,a=Math.abs(e)<Math.abs(o)?e-(s-o):o-(s-e);a&&(n[i++]=a),e=s}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,r,o,s=0;if(n>0){for(s=e[--n];n>0&&(i=s,r=e[--n],s=i+r,o=r-(s-i),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(r=o*2,i=s+r,r==i-s&&(s=i))}return s}}class Fa extends Map{constructor(e,n=Va){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(Ar(this,e))}has(e){return super.has(Ar(this,e))}set(e,n){return super.set(qa(this,e),n)}delete(e){return super.delete(Wa(this,e))}}function Ar({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function qa({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Wa({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Va(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ha(t){return t}function Zo(t,...e){return Xa(t,Ha,ja,e)}function ja(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function Xa(t,e,n,i){return function r(o,s){if(s>=i.length)return n(o);const a=new Fa,c=i[s++];let u=-1;for(const l of o){const f=c(l,++u,o),h=a.get(f);h?h.push(l):a.set(f,[l])}for(const[l,f]of a)a.set(l,r(f,s));return e(a)}(t,0)}function*Ya(t){for(const e of t)yield*e}function Jo(t){return Array.from(Ya(t))}var Ga={value:()=>{}};function or(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new kn(n)}function kn(t){this._=t}function Ka(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}kn.prototype=or.prototype={constructor:kn,on:function(t,e){var n=this._,i=Ka(t+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=Ua(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=Rr(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Rr(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kn(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function Ua(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Rr(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Ga,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ai="http://www.w3.org/1999/xhtml";const Nr={svg:"http://www.w3.org/2000/svg",xhtml:Ai,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Nr.hasOwnProperty(e)?{space:Nr[e],local:t}:t}function Za(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ai&&e.documentElement.namespaceURI===Ai?e.createElement(t):e.createElementNS(n,t)}}function Ja(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qo(t){var e=Zn(t);return(e.local?Ja:Za)(e)}function Qa(){}function sr(t){return t==null?Qa:function(){return this.querySelector(t)}}function $a(t){typeof t!="function"&&(t=sr(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=new Array(s),c,u,l=0;l<s;++l)(c=o[l])&&(u=t.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new dt(i,this._parents)}function $o(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tl(){return[]}function ts(t){return t==null?tl:function(){return this.querySelectorAll(t)}}function el(t){return function(){return $o(t.apply(this,arguments))}}function nl(t){typeof t=="function"?t=el(t):t=ts(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(i.push(t.call(c,c.__data__,u,s)),r.push(c));return new dt(i,r)}function es(t){return function(){return this.matches(t)}}function ns(t){return function(e){return e.matches(t)}}var il=Array.prototype.find;function rl(t){return function(){return il.call(this.children,t)}}function ol(){return this.firstElementChild}function sl(t){return this.select(t==null?ol:rl(typeof t=="function"?t:ns(t)))}var al=Array.prototype.filter;function ll(){return Array.from(this.children)}function ul(t){return function(){return al.call(this.children,t)}}function cl(t){return this.selectAll(t==null?ll:ul(typeof t=="function"?t:ns(t)))}function fl(t){typeof t!="function"&&(t=es(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new dt(i,this._parents)}function is(t){return new Array(t.length)}function hl(){return new dt(this._enter||this._groups.map(is),this._parents)}function An(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}An.prototype={constructor:An,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function dl(t){return function(){return t}}function pl(t,e,n,i,r,o){for(var s=0,a,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new An(t,o[s]);for(;s<c;++s)(a=e[s])&&(r[s]=a)}function gl(t,e,n,i,r,o,s){var a,c,u=new Map,l=e.length,f=o.length,h=new Array(l),d;for(a=0;a<l;++a)(c=e[a])&&(h[a]=d=s.call(c,c.__data__,a,e)+"",u.has(d)?r[a]=c:u.set(d,c));for(a=0;a<f;++a)d=s.call(t,o[a],a,o)+"",(c=u.get(d))?(i[a]=c,c.__data__=o[a],u.delete(d)):n[a]=new An(t,o[a]);for(a=0;a<l;++a)(c=e[a])&&u.get(h[a])===c&&(r[a]=c)}function vl(t){return t.__data__}function ml(t,e){if(!arguments.length)return Array.from(this,vl);var n=e?gl:pl,i=this._parents,r=this._groups;typeof t!="function"&&(t=dl(t));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=i[u],f=r[u],h=f.length,d=yl(t.call(l,l&&l.__data__,u,i)),v=d.length,y=a[u]=new Array(v),p=s[u]=new Array(v),g=c[u]=new Array(h);n(l,f,y,p,g,d,e);for(var _=0,S=0,k,E;_<v;++_)if(k=y[_]){for(_>=S&&(S=_+1);!(E=p[S])&&++S<v;);k._next=E||null}}return s=new dt(s,i),s._enter=a,s._exit=c,s}function yl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _l(){return new dt(this._exit||this._groups.map(is),this._parents)}function wl(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function bl(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),c=0;c<s;++c)for(var u=n[c],l=i[c],f=u.length,h=a[c]=new Array(f),d,v=0;v<f;++v)(d=u[v]||l[v])&&(h[v]=d);for(;c<r;++c)a[c]=n[c];return new dt(a,this._parents)}function Sl(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Ml(t){t||(t=El);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,c=r[o]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(e)}return new dt(r,this._parents).order()}function El(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function xl(){return Array.from(this)}function Cl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Pl(){let t=0;for(const e of this)++t;return t}function Ol(){return!this.node()}function Tl(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function zl(t){return function(){this.removeAttribute(t)}}function Al(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rl(t,e){return function(){this.setAttribute(t,e)}}function Nl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Bl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ll(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Il(t,e){var n=Zn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Al:zl:typeof e=="function"?n.local?Ll:Bl:n.local?Nl:Rl)(n,e))}function rs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Dl(t){return function(){this.style.removeProperty(t)}}function Fl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ql(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Wl(t,e,n){return arguments.length>1?this.each((e==null?Dl:typeof e=="function"?ql:Fl)(t,e,n==null?"":n)):ye(this.node(),t)}function ye(t,e){return t.style.getPropertyValue(e)||rs(t).getComputedStyle(t,null).getPropertyValue(e)}function Vl(t){return function(){delete this[t]}}function Hl(t,e){return function(){this[t]=e}}function jl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Xl(t,e){return arguments.length>1?this.each((e==null?Vl:typeof e=="function"?jl:Hl)(t,e)):this.node()[t]}function os(t){return t.trim().split(/^|\s+/)}function ar(t){return t.classList||new ss(t)}function ss(t){this._node=t,this._names=os(t.getAttribute("class")||"")}ss.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function as(t,e){for(var n=ar(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ls(t,e){for(var n=ar(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Yl(t){return function(){as(this,t)}}function Gl(t){return function(){ls(this,t)}}function Kl(t,e){return function(){(e.apply(this,arguments)?as:ls)(this,t)}}function Ul(t,e){var n=os(t+"");if(arguments.length<2){for(var i=ar(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Kl:e?Yl:Gl)(n,e))}function Zl(){this.textContent=""}function Jl(t){return function(){this.textContent=t}}function Ql(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function $l(t){return arguments.length?this.each(t==null?Zl:(typeof t=="function"?Ql:Jl)(t)):this.node().textContent}function tu(){this.innerHTML=""}function eu(t){return function(){this.innerHTML=t}}function nu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function iu(t){return arguments.length?this.each(t==null?tu:(typeof t=="function"?nu:eu)(t)):this.node().innerHTML}function ru(){this.nextSibling&&this.parentNode.appendChild(this)}function ou(){return this.each(ru)}function su(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function au(){return this.each(su)}function lu(t){var e=typeof t=="function"?t:Qo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function uu(){return null}function cu(t,e){var n=typeof t=="function"?t:Qo(t),i=e==null?uu:typeof e=="function"?e:sr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function fu(){var t=this.parentNode;t&&t.removeChild(this)}function hu(){return this.each(fu)}function du(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gu(t){return this.select(t?pu:du)}function vu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function mu(t){return function(e){t.call(this,e,this.__data__)}}function yu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function _u(t){return function(){var e=this.__on;if(!!e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function wu(t,e,n){return function(){var i=this.__on,r,o=mu(e);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function bu(t,e,n){var i=yu(t+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(r=0,l=a[c];r<o;++r)if((s=i[r]).type===l.type&&s.name===l.name)return l.value}return}for(a=e?wu:_u,r=0;r<o;++r)this.each(a(i[r],e,n));return this}function us(t,e,n){var i=rs(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Su(t,e){return function(){return us(this,t,e)}}function Mu(t,e){return function(){return us(this,t,e.apply(this,arguments))}}function Eu(t,e){return this.each((typeof e=="function"?Mu:Su)(t,e))}function*ku(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var lr=[null];function dt(t,e){this._groups=t,this._parents=e}function tn(){return new dt([[document.documentElement]],lr)}function xu(){return this}dt.prototype=tn.prototype={constructor:dt,select:$a,selectAll:nl,selectChild:sl,selectChildren:cl,filter:fl,data:ml,enter:hl,exit:_l,join:wl,merge:bl,selection:xu,order:Sl,sort:Ml,call:kl,nodes:xl,node:Cl,size:Pl,empty:Ol,each:Tl,attr:Il,style:Wl,property:Xl,classed:Ul,text:$l,html:iu,raise:ou,lower:au,append:lu,insert:cu,remove:hu,clone:gu,datum:vu,on:bu,dispatch:Eu,[Symbol.iterator]:ku};function st(t){return typeof t=="string"?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],lr)}function Cu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function jt(t,e){if(t=Cu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function Pu(t){return typeof t=="string"?new dt([document.querySelectorAll(t)],[document.documentElement]):new dt([$o(t)],lr)}const Ri={capture:!0,passive:!1};function Ni(t){t.preventDefault(),t.stopImmediatePropagation()}function Ou(t){var e=t.document.documentElement,n=st(t).on("dragstart.drag",Ni,Ri);"onselectstart"in e?n.on("selectstart.drag",Ni,Ri):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Tu(t,e){var n=t.document.documentElement,i=st(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ni,Ri),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ur(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cs(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function en(){}var je=.7,Rn=1/je,me="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zu=/^#([0-9a-f]{3,8})$/,Au=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),Ru=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),Nu=new RegExp(`^rgba\\(${me},${me},${me},${Xe}\\)$`),Bu=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${Xe}\\)$`),Lu=new RegExp(`^hsl\\(${Xe},${Rt},${Rt}\\)$`),Iu=new RegExp(`^hsla\\(${Xe},${Rt},${Rt},${Xe}\\)$`),Br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ur(en,Ye,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lr,formatHex:Lr,formatHex8:Du,formatHsl:Fu,formatRgb:Ir,toString:Ir});function Lr(){return this.rgb().formatHex()}function Du(){return this.rgb().formatHex8()}function Fu(){return fs(this).formatHsl()}function Ir(){return this.rgb().formatRgb()}function Ye(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Dr(e):n===3?new mt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Au.exec(t))?new mt(e[1],e[2],e[3],1):(e=Ru.exec(t))?new mt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Nu.exec(t))?dn(e[1],e[2],e[3],e[4]):(e=Bu.exec(t))?dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lu.exec(t))?Wr(e[1],e[2]/100,e[3]/100,1):(e=Iu.exec(t))?Wr(e[1],e[2]/100,e[3]/100,e[4]):Br.hasOwnProperty(t)?Dr(Br[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function Dr(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function dn(t,e,n,i){return i<=0&&(t=e=n=NaN),new mt(t,e,n,i)}function qu(t){return t instanceof en||(t=Ye(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function Bi(t,e,n,i){return arguments.length===1?qu(t):new mt(t,e,n,i==null?1:i)}function mt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ur(mt,Bi,cs(en,{brighter(t){return t=t==null?Rn:Math.pow(Rn,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?je:Math.pow(je,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(ne(this.r),ne(this.g),ne(this.b),Nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fr,formatHex:Fr,formatHex8:Wu,formatRgb:qr,toString:qr}));function Fr(){return`#${ee(this.r)}${ee(this.g)}${ee(this.b)}`}function Wu(){return`#${ee(this.r)}${ee(this.g)}${ee(this.b)}${ee((isNaN(this.opacity)?1:this.opacity)*255)}`}function qr(){const t=Nn(this.opacity);return`${t===1?"rgb(":"rgba("}${ne(this.r)}, ${ne(this.g)}, ${ne(this.b)}${t===1?")":`, ${t})`}`}function Nn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ne(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ee(t){return t=ne(t),(t<16?"0":"")+t.toString(16)}function Wr(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xt(t,e,n,i)}function fs(t){if(t instanceof xt)return new xt(t.h,t.s,t.l,t.opacity);if(t instanceof en||(t=Ye(t)),!t)return new xt;if(t instanceof xt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,c=(o+r)/2;return a?(e===o?s=(n-i)/a+(n<i)*6:n===o?s=(i-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+r:2-o-r,s*=60):a=c>0&&c<1?0:s,new xt(s,a,c,t.opacity)}function Vu(t,e,n,i){return arguments.length===1?fs(t):new xt(t,e,n,i==null?1:i)}function xt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ur(xt,Vu,cs(en,{brighter(t){return t=t==null?Rn:Math.pow(Rn,t),new xt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?je:Math.pow(je,t),new xt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new mt(gi(t>=240?t-240:t+120,r,i),gi(t,r,i),gi(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new xt(Vr(this.h),pn(this.s),pn(this.l),Nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nn(this.opacity);return`${t===1?"hsl(":"hsla("}${Vr(this.h)}, ${pn(this.s)*100}%, ${pn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vr(t){return t=(t||0)%360,t<0?t+360:t}function pn(t){return Math.max(0,Math.min(1,t||0))}function gi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hs=t=>()=>t;function Hu(t,e){return function(n){return t+n*e}}function ju(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Xu(t){return(t=+t)==1?ds:function(e,n){return n-e?ju(e,n,t):hs(isNaN(e)?n:e)}}function ds(t,e){var n=e-t;return n?Hu(t,n):hs(isNaN(t)?e:t)}const Hr=function t(e){var n=Xu(e);function i(r,o){var s=n((r=Bi(r)).r,(o=Bi(o)).r),a=n(r.g,o.g),c=n(r.b,o.b),u=ds(r.opacity,o.opacity);return function(l){return r.r=s(l),r.g=a(l),r.b=c(l),r.opacity=u(l),r+""}}return i.gamma=t,i}(1);function Ut(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Li=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vi=new RegExp(Li.source,"g");function Yu(t){return function(){return t}}function Gu(t){return function(e){return t(e)+""}}function Ku(t,e){var n=Li.lastIndex=vi.lastIndex=0,i,r,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(i=Li.exec(t))&&(r=vi.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:Ut(i,r)})),n=vi.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?Gu(c[0].x):Yu(e):(e=c.length,function(u){for(var l=0,f;l<e;++l)a[(f=c[l]).i]=f.x(u);return a.join("")})}var jr=180/Math.PI,Ii={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ps(t,e,n,i,r,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*jr,skewX:Math.atan(c)*jr,scaleX:s,scaleY:a}}var gn;function Uu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ii:ps(e.a,e.b,e.c,e.d,e.e,e.f)}function Zu(t){return t==null||(gn||(gn=document.createElementNS("http://www.w3.org/2000/svg","g")),gn.setAttribute("transform",t),!(t=gn.transform.baseVal.consolidate()))?Ii:(t=t.matrix,ps(t.a,t.b,t.c,t.d,t.e,t.f))}function gs(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}function o(u,l,f,h,d,v){if(u!==f||l!==h){var y=d.push("translate(",null,e,null,n);v.push({i:y-4,x:Ut(u,f)},{i:y-2,x:Ut(l,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function s(u,l,f,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:Ut(u,l)})):l&&f.push(r(f)+"rotate("+l+i)}function a(u,l,f,h){u!==l?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:Ut(u,l)}):l&&f.push(r(f)+"skewX("+l+i)}function c(u,l,f,h,d,v){if(u!==f||l!==h){var y=d.push(r(d)+"scale(",null,",",null,")");v.push({i:y-4,x:Ut(u,f)},{i:y-2,x:Ut(l,h)})}else(f!==1||h!==1)&&d.push(r(d)+"scale("+f+","+h+")")}return function(u,l){var f=[],h=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,f,h),s(u.rotate,l.rotate,f,h),a(u.skewX,l.skewX,f,h),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,h),u=l=null,function(d){for(var v=-1,y=h.length,p;++v<y;)f[(p=h[v]).i]=p.x(d);return f.join("")}}}var Ju=gs(Uu,"px, ","px)","deg)"),Qu=gs(Zu,", ",")",")"),$u=1e-12;function Xr(t){return((t=Math.exp(t))+1/t)/2}function tc(t){return((t=Math.exp(t))-1/t)/2}function ec(t){return((t=Math.exp(2*t))-1)/(t+1)}const nc=function t(e,n,i){function r(o,s){var a=o[0],c=o[1],u=o[2],l=s[0],f=s[1],h=s[2],d=l-a,v=f-c,y=d*d+v*v,p,g;if(y<$u)g=Math.log(h/u)/e,p=function(N){return[a+N*d,c+N*v,u*Math.exp(e*N*g)]};else{var _=Math.sqrt(y),S=(h*h-u*u+i*y)/(2*u*n*_),k=(h*h-u*u-i*y)/(2*h*n*_),E=Math.log(Math.sqrt(S*S+1)-S),O=Math.log(Math.sqrt(k*k+1)-k);g=(O-E)/e,p=function(N){var L=N*g,D=Xr(E),W=u/(n*_)*(D*ec(e*L+E)-tc(E));return[a+W*d,c+W*v,u*D/Xr(e*L+E)]}}return p.duration=g*1e3*e/Math.SQRT2,p}return r.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return t(s,a,c)},r}(Math.SQRT2,2,4);var _e=0,Be=0,Pe=0,vs=1e3,Bn,Le,Ln=0,oe=0,Jn=0,Ge=typeof performance=="object"&&performance.now?performance:Date,ms=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cr(){return oe||(ms(ic),oe=Ge.now()+Jn)}function ic(){oe=0}function In(){this._call=this._time=this._next=null}In.prototype=ys.prototype={constructor:In,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?cr():+n)+(e==null?0:+e),!this._next&&Le!==this&&(Le?Le._next=this:Bn=this,Le=this),this._call=t,this._time=n,Di()},stop:function(){this._call&&(this._call=null,this._time=1/0,Di())}};function ys(t,e,n){var i=new In;return i.restart(t,e,n),i}function rc(){cr(),++_e;for(var t=Bn,e;t;)(e=oe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_e}function Yr(){oe=(Ln=Ge.now())+Jn,_e=Be=0;try{rc()}finally{_e=0,sc(),oe=0}}function oc(){var t=Ge.now(),e=t-Ln;e>vs&&(Jn-=e,Ln=t)}function sc(){for(var t,e=Bn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Bn=n);Le=t,Di(i)}function Di(t){if(!_e){Be&&(Be=clearTimeout(Be));var e=t-oe;e>24?(t<1/0&&(Be=setTimeout(Yr,t-Ge.now()-Jn)),Pe&&(Pe=clearInterval(Pe))):(Pe||(Ln=Ge.now(),Pe=setInterval(oc,vs)),_e=1,ms(Yr))}}function Gr(t,e,n){var i=new In;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var ac=or("start","end","cancel","interrupt"),lc=[],_s=0,Kr=1,Fi=2,xn=3,Ur=4,qi=5,Cn=6;function Qn(t,e,n,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;uc(t,n,{name:e,index:i,group:r,on:ac,tween:lc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:_s})}function fr(t,e){var n=Pt(t,e);if(n.state>_s)throw new Error("too late; already scheduled");return n}function Ft(t,e){var n=Pt(t,e);if(n.state>xn)throw new Error("too late; already running");return n}function Pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function uc(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=ys(o,0,n.time);function o(u){n.state=Kr,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,f,h,d;if(n.state!==Kr)return c();for(l in i)if(d=i[l],d.name===n.name){if(d.state===xn)return Gr(s);d.state===Ur?(d.state=Cn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[l]):+l<e&&(d.state=Cn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[l])}if(Gr(function(){n.state===xn&&(n.state=Ur,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Fi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fi){for(n.state=xn,r=new Array(h=n.tween.length),l=0,f=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=d);r.length=f+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=qi,1),f=-1,h=r.length;++f<h;)r[f].call(t,l);n.state===qi&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Cn,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Pn(t,e){var n=t.__transition,i,r,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){o=!1;continue}r=i.state>Fi&&i.state<qi,i.state=Cn,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}o&&delete t.__transition}}function cc(t){return this.each(function(){Pn(this,t)})}function fc(t,e){var n,i;return function(){var r=Ft(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function hc(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=Ft(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===e){r[c]=a;break}c===u&&r.push(a)}o.tween=r}}function dc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Pt(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?fc:hc)(n,t,e))}function hr(t,e,n){var i=t._id;return t.each(function(){var r=Ft(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return Pt(r,i).value[e]}}function ws(t,e){var n;return(typeof e=="number"?Ut:e instanceof Ye?Hr:(n=Ye(e))?(e=n,Hr):Ku)(t,e)}function pc(t){return function(){this.removeAttribute(t)}}function gc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vc(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function mc(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function yc(t,e,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a)))}}function _c(t,e,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a)))}}function wc(t,e){var n=Zn(t),i=n==="transform"?Qu:ws;return this.attrTween(t,typeof e=="function"?(n.local?_c:yc)(n,i,hr(this,"attr."+t,e)):e==null?(n.local?gc:pc)(n):(n.local?mc:vc)(n,i,e))}function bc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Mc(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&Sc(t,o)),n}return r._value=e,r}function Ec(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&bc(t,o)),n}return r._value=e,r}function kc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Zn(t);return this.tween(n,(i.local?Mc:Ec)(i,e))}function xc(t,e){return function(){fr(this,t).delay=+e.apply(this,arguments)}}function Cc(t,e){return e=+e,function(){fr(this,t).delay=e}}function Pc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xc:Cc)(e,t)):Pt(this.node(),e).delay}function Oc(t,e){return function(){Ft(this,t).duration=+e.apply(this,arguments)}}function Tc(t,e){return e=+e,function(){Ft(this,t).duration=e}}function zc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oc:Tc)(e,t)):Pt(this.node(),e).duration}function Ac(t,e){if(typeof e!="function")throw new Error;return function(){Ft(this,t).ease=e}}function Rc(t){var e=this._id;return arguments.length?this.each(Ac(e,t)):Pt(this.node(),e).ease}function Nc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,t).ease=n}}function Bc(t){if(typeof t!="function")throw new Error;return this.each(Nc(this._id,t))}function Lc(t){typeof t!="function"&&(t=es(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new Gt(i,this._parents,this._name,this._id)}function Ic(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var c=e[a],u=n[a],l=c.length,f=s[a]=new Array(l),h,d=0;d<l;++d)(h=c[d]||u[d])&&(f[d]=h);for(;a<i;++a)s[a]=e[a];return new Gt(s,this._parents,this._name,this._id)}function Dc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Fc(t,e,n){var i,r,o=Dc(e)?fr:Ft;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function qc(t,e){var n=this._id;return arguments.length<2?Pt(this.node(),n).on.on(t):this.each(Fc(n,t,e))}function Wc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vc(){return this.on("end.remove",Wc(this._id))}function Hc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sr(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],c=a.length,u=o[s]=new Array(c),l,f,h=0;h<c;++h)(l=a[h])&&(f=t.call(l,l.__data__,h,a))&&("__data__"in l&&(f.__data__=l.__data__),u[h]=f,Qn(u[h],e,n,h,u,Pt(l,n)));return new Gt(o,this._parents,e,n)}function jc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ts(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var c=i[a],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var h=t.call(l,l.__data__,f,c),d,v=Pt(l,n),y=0,p=h.length;y<p;++y)(d=h[y])&&Qn(d,e,n,y,h,v);o.push(h),s.push(l)}return new Gt(o,s,e,n)}var Xc=tn.prototype.constructor;function Yc(){return new Xc(this._groups,this._parents)}function Gc(t,e){var n,i,r;return function(){var o=ye(this,t),s=(this.style.removeProperty(t),ye(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function bs(t){return function(){this.style.removeProperty(t)}}function Kc(t,e,n){var i,r=n+"",o;return function(){var s=ye(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}function Uc(t,e,n){var i,r,o;return function(){var s=ye(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),ye(this,t))),s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}function Zc(t,e){var n,i,r,o="style."+e,s="end."+o,a;return function(){var c=Ft(this,t),u=c.on,l=c.value[o]==null?a||(a=bs(e)):void 0;(u!==n||r!==l)&&(i=(n=u).copy()).on(s,r=l),c.on=i}}function Jc(t,e,n){var i=(t+="")=="transform"?Ju:ws;return e==null?this.styleTween(t,Gc(t,i)).on("end.style."+t,bs(t)):typeof e=="function"?this.styleTween(t,Uc(t,i,hr(this,"style."+t,e))).each(Zc(this._id,t)):this.styleTween(t,Kc(t,i,e),n).on("end.style."+t,null)}function Qc(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function $c(t,e,n){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Qc(t,s,n)),i}return o._value=e,o}function tf(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,$c(t,e,n==null?"":n))}function ef(t){return function(){this.textContent=t}}function nf(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function rf(t){return this.tween("text",typeof t=="function"?nf(hr(this,"text",t)):ef(t==null?"":t+""))}function of(t){return function(e){this.textContent=t.call(this,e)}}function sf(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&of(r)),e}return i._value=t,i}function af(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,sf(t))}function lf(){for(var t=this._name,e=this._id,n=Ss(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=Pt(c,e);Qn(c,t,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Gt(i,this._parents,t,n)}function uf(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--r===0&&o()}};n.each(function(){var u=Ft(this,i),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),r===0&&o()})}var cf=0;function Gt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ss(){return++cf}var Ht=tn.prototype;Gt.prototype={constructor:Gt,select:Hc,selectAll:jc,selectChild:Ht.selectChild,selectChildren:Ht.selectChildren,filter:Lc,merge:Ic,selection:Yc,transition:lf,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:qc,attr:wc,attrTween:kc,style:Jc,styleTween:tf,text:rf,textTween:af,remove:Vc,tween:dc,delay:Pc,duration:zc,ease:Rc,easeVarying:Bc,end:uf,[Symbol.iterator]:Ht[Symbol.iterator]};function ff(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var hf={time:null,delay:0,duration:250,ease:ff};function df(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function pf(t){var e,n;t instanceof Gt?(e=t._id,t=t._name):(e=Ss(),(n=hf).time=cr(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Qn(c,t,e,u,s,n||df(c,e));return new Gt(i,this._parents,t,e)}tn.prototype.interrupt=cc;tn.prototype.transition=pf;function gf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Ms(t,e){return fetch(t,e).then(gf)}var K=1e-6,vf=1e-12,V=Math.PI,yt=V/2,Zr=V/4,St=V*2,wt=180/V,it=V/180,Q=Math.abs,Es=Math.atan,Ke=Math.atan2,tt=Math.cos,mf=Math.exp,yf=Math.log,et=Math.sin,_f=Math.sign||function(t){return t>0?1:t<0?-1:0},ue=Math.sqrt,wf=Math.tan;function bf(t){return t>1?0:t<-1?V:Math.acos(t)}function Ue(t){return t>1?yt:t<-1?-yt:Math.asin(t)}function kt(){}function Dn(t,e){t&&Qr.hasOwnProperty(t.type)&&Qr[t.type](t,e)}var Jr={Feature:function(t,e){Dn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Dn(n[i].geometry,e)}},Qr={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Wi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Wi(n[i],e,0)},Polygon:function(t,e){$r(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)$r(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Dn(n[i],e)}};function Wi(t,e,n){var i=-1,r=t.length-n,o;for(e.lineStart();++i<r;)o=t[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function $r(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Wi(t[n],e,1);e.polygonEnd()}function de(t,e){t&&Jr.hasOwnProperty(t.type)?Jr[t.type](t,e):Dn(t,e)}function Vi(t){return[Ke(t[1],t[0]),Ue(t[2])]}function we(t){var e=t[0],n=t[1],i=tt(n);return[i*tt(e),i*et(e),et(n)]}function vn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function mi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function mn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hi(t){var e=ue(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ji(t,e){function n(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,r){return i=e.invert(i,r),i&&t.invert(i[0],i[1])}),n}function Xi(t,e){return[Q(t)>V?t+Math.round(-t/St)*St:t,e]}Xi.invert=Xi;function ks(t,e,n){return(t%=St)?e||n?ji(eo(t),no(e,n)):eo(t):e||n?no(e,n):Xi}function to(t){return function(e,n){return e+=t,[e>V?e-St:e<-V?e+St:e,n]}}function eo(t){var e=to(t);return e.invert=to(-t),e}function no(t,e){var n=tt(t),i=et(t),r=tt(e),o=et(e);function s(a,c){var u=tt(c),l=tt(a)*u,f=et(a)*u,h=et(c),d=h*n+l*i;return[Ke(f*r-d*o,l*n-h*i),Ue(d*r+f*o)]}return s.invert=function(a,c){var u=tt(c),l=tt(a)*u,f=et(a)*u,h=et(c),d=h*r-f*o;return[Ke(f*r+h*o,l*n+d*i),Ue(d*n-l*i)]},s}function Sf(t){t=ks(t[0]*it,t[1]*it,t.length>2?t[2]*it:0);function e(n){return n=t(n[0]*it,n[1]*it),n[0]*=wt,n[1]*=wt,n}return e.invert=function(n){return n=t.invert(n[0]*it,n[1]*it),n[0]*=wt,n[1]*=wt,n},e}function Mf(t,e,n,i,r,o){if(!!n){var s=tt(e),a=et(e),c=i*n;r==null?(r=e+i*St,o=e-c/2):(r=io(s,r),o=io(s,o),(i>0?r<o:r>o)&&(r+=i*St));for(var u,l=r;i>0?l>o:l<o;l-=c)u=Vi([s,-a*tt(l),-a*et(l)]),t.point(u[0],u[1])}}function io(t,e){e=we(e),e[0]-=t,Hi(e);var n=bf(-e[1]);return((-e[2]<0?-n:n)+St-K)%St}function xs(){var t=[],e;return{point:function(n,i,r){e.push([n,i,r])},lineStart:function(){t.push(e=[])},lineEnd:kt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function On(t,e){return Q(t[0]-e[0])<K&&Q(t[1]-e[1])<K}function yn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Cs(t,e,n,i,r){var o=[],s=[],a,c;if(t.forEach(function(v){if(!((y=v.length-1)<=0)){var y,p=v[0],g=v[y],_;if(On(p,g)){if(!p[2]&&!g[2]){for(r.lineStart(),a=0;a<y;++a)r.point((p=v[a])[0],p[1]);r.lineEnd();return}g[0]+=2*K}o.push(_=new yn(p,v,null,!0)),s.push(_.o=new yn(p,null,_,!1)),o.push(_=new yn(g,v,null,!1)),s.push(_.o=new yn(g,null,_,!0))}}),!!o.length){for(s.sort(e),ro(o),ro(s),a=0,c=s.length;a<c;++a)s[a].e=n=!n;for(var u=o[0],l,f;;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;l=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,c=l.length;a<c;++a)r.point((f=l[a])[0],f[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;a>=0;--a)r.point((f=l[a])[0],f[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,l=h.z,d=!d}while(!h.v);r.lineEnd()}}}function ro(t){if(!!(e=t.length)){for(var e,n=0,i=t[0],r;++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function yi(t){return Q(t[0])<=V?t[0]:_f(t[0])*((Q(t[0])+V)%St-V)}function Ef(t,e){var n=yi(e),i=e[1],r=et(i),o=[et(n),-tt(n),0],s=0,a=0,c=new re;r===1?i=yt+K:r===-1&&(i=-yt-K);for(var u=0,l=t.length;u<l;++u)if(!!(h=(f=t[u]).length))for(var f,h,d=f[h-1],v=yi(d),y=d[1]/2+Zr,p=et(y),g=tt(y),_=0;_<h;++_,v=k,p=O,g=N,d=S){var S=f[_],k=yi(S),E=S[1]/2+Zr,O=et(E),N=tt(E),L=k-v,D=L>=0?1:-1,W=D*L,R=W>V,Z=p*O;if(c.add(Ke(Z*D*et(W),g*N+Z*tt(W))),s+=R?L+D*St:L,R^v>=n^k>=n){var j=Fn(we(d),we(S));Hi(j);var m=Fn(o,j);Hi(m);var w=(R^L>=0?-1:1)*Ue(m[2]);(i>w||i===w&&(j[0]||j[1]))&&(a+=R^L>=0?1:-1)}}return(s<-K||s<K&&c<-vf)^a&1}function Ps(t,e,n,i){return function(r){var o=e(r),s=xs(),a=e(s),c=!1,u,l,f,h={point:d,lineStart:y,lineEnd:p,polygonStart:function(){h.point=g,h.lineStart=_,h.lineEnd=S,l=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=y,h.lineEnd=p,l=Jo(l);var k=Ef(u,i);l.length?(c||(r.polygonStart(),c=!0),Cs(l,xf,k,n,r)):k&&(c||(r.polygonStart(),c=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),l=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(k,E){t(k,E)&&r.point(k,E)}function v(k,E){o.point(k,E)}function y(){h.point=v,o.lineStart()}function p(){h.point=d,o.lineEnd()}function g(k,E){f.push([k,E]),a.point(k,E)}function _(){a.lineStart(),f=[]}function S(){g(f[0][0],f[0][1]),a.lineEnd();var k=a.clean(),E=s.result(),O,N=E.length,L,D,W;if(f.pop(),u.push(f),f=null,!!N){if(k&1){if(D=E[0],(L=D.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),O=0;O<L;++O)r.point((W=D[O])[0],W[1]);r.lineEnd()}return}N>1&&k&2&&E.push(E.pop().concat(E.shift())),l.push(E.filter(kf))}}return h}}function kf(t){return t.length>1}function xf(t,e){return((t=t.x)[0]<0?t[1]-yt-K:yt-t[1])-((e=e.x)[0]<0?e[1]-yt-K:yt-e[1])}const oo=Ps(function(){return!0},Cf,Of,[-V,-yt]);function Cf(t){var e=NaN,n=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(o,s){var a=o>0?V:-V,c=Q(o-e);Q(c-V)<K?(t.point(e,n=(n+s)/2>0?yt:-yt),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),r=0):i!==a&&c>=V&&(Q(e-i)<K&&(e-=i*K),Q(o-a)<K&&(o-=a*K),n=Pf(e,n,o,s),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(a,n),r=0),t.point(e=o,n=s),i=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-r}}}function Pf(t,e,n,i){var r,o,s=et(t-n);return Q(s)>K?Es((et(e)*(o=tt(i))*et(n)-et(i)*(r=tt(e))*et(t))/(r*o*s)):(e+i)/2}function Of(t,e,n,i){var r;if(t==null)r=n*yt,i.point(-V,r),i.point(0,r),i.point(V,r),i.point(V,0),i.point(V,-r),i.point(0,-r),i.point(-V,-r),i.point(-V,0),i.point(-V,r);else if(Q(t[0]-e[0])>K){var o=t[0]<e[0]?V:-V;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Tf(t){var e=tt(t),n=6*it,i=e>0,r=Q(e)>K;function o(l,f,h,d){Mf(d,t,n,h,l,f)}function s(l,f){return tt(l)*tt(f)>e}function a(l){var f,h,d,v,y;return{lineStart:function(){v=d=!1,y=1},point:function(p,g){var _=[p,g],S,k=s(p,g),E=i?k?0:u(p,g):k?u(p+(p<0?V:-V),g):0;if(!f&&(v=d=k)&&l.lineStart(),k!==d&&(S=c(f,_),(!S||On(f,S)||On(_,S))&&(_[2]=1)),k!==d)y=0,k?(l.lineStart(),S=c(_,f),l.point(S[0],S[1])):(S=c(f,_),l.point(S[0],S[1],2),l.lineEnd()),f=S;else if(r&&f&&i^k){var O;!(E&h)&&(O=c(_,f,!0))&&(y=0,i?(l.lineStart(),l.point(O[0][0],O[0][1]),l.point(O[1][0],O[1][1]),l.lineEnd()):(l.point(O[1][0],O[1][1]),l.lineEnd(),l.lineStart(),l.point(O[0][0],O[0][1],3)))}k&&(!f||!On(f,_))&&l.point(_[0],_[1]),f=_,d=k,h=E},lineEnd:function(){d&&l.lineEnd(),f=null},clean:function(){return y|(v&&d)<<1}}}function c(l,f,h){var d=we(l),v=we(f),y=[1,0,0],p=Fn(d,v),g=vn(p,p),_=p[0],S=g-_*_;if(!S)return!h&&l;var k=e*g/S,E=-e*_/S,O=Fn(y,p),N=mn(y,k),L=mn(p,E);mi(N,L);var D=O,W=vn(N,D),R=vn(D,D),Z=W*W-R*(vn(N,N)-1);if(!(Z<0)){var j=ue(Z),m=mn(D,(-W-j)/R);if(mi(m,N),m=Vi(m),!h)return m;var w=l[0],b=f[0],x=l[1],C=f[1],T;b<w&&(T=w,w=b,b=T);var z=b-w,B=Q(z-V)<K,q=B||z<K;if(!B&&C<x&&(T=x,x=C,C=T),q?B?x+C>0^m[1]<(Q(m[0]-w)<K?x:C):x<=m[1]&&m[1]<=C:z>V^(w<=m[0]&&m[0]<=b)){var G=mn(D,(-W+j)/R);return mi(G,N),[m,Vi(G)]}}}function u(l,f){var h=i?t:V-t,d=0;return l<-h?d|=1:l>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return Ps(s,a,o,i?[0,-t]:[-V,t-V])}function zf(t,e,n,i,r,o){var s=t[0],a=t[1],c=e[0],u=e[1],l=0,f=1,h=c-s,d=u-a,v;if(v=n-s,!(!h&&v>0)){if(v/=h,h<0){if(v<l)return;v<f&&(f=v)}else if(h>0){if(v>f)return;v>l&&(l=v)}if(v=r-s,!(!h&&v<0)){if(v/=h,h<0){if(v>f)return;v>l&&(l=v)}else if(h>0){if(v<l)return;v<f&&(f=v)}if(v=i-a,!(!d&&v>0)){if(v/=d,d<0){if(v<l)return;v<f&&(f=v)}else if(d>0){if(v>f)return;v>l&&(l=v)}if(v=o-a,!(!d&&v<0)){if(v/=d,d<0){if(v>f)return;v>l&&(l=v)}else if(d>0){if(v<l)return;v<f&&(f=v)}return l>0&&(t[0]=s+l*h,t[1]=a+l*d),f<1&&(e[0]=s+f*h,e[1]=a+f*d),!0}}}}}var Ie=1e9,_n=-Ie;function Af(t,e,n,i){function r(u,l){return t<=u&&u<=n&&e<=l&&l<=i}function o(u,l,f,h){var d=0,v=0;if(u==null||(d=s(u,f))!==(v=s(l,f))||c(u,l)<0^f>0)do h.point(d===0||d===3?t:n,d>1?i:e);while((d=(d+f+4)%4)!==v);else h.point(l[0],l[1])}function s(u,l){return Q(u[0]-t)<K?l>0?0:3:Q(u[0]-n)<K?l>0?2:1:Q(u[1]-e)<K?l>0?1:0:l>0?3:2}function a(u,l){return c(u.x,l.x)}function c(u,l){var f=s(u,1),h=s(l,1);return f!==h?f-h:f===0?l[1]-u[1]:f===1?u[0]-l[0]:f===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,f=xs(),h,d,v,y,p,g,_,S,k,E,O,N={point:L,lineStart:Z,lineEnd:j,polygonStart:W,polygonEnd:R};function L(w,b){r(w,b)&&l.point(w,b)}function D(){for(var w=0,b=0,x=d.length;b<x;++b)for(var C=d[b],T=1,z=C.length,B=C[0],q,G,U=B[0],$=B[1];T<z;++T)q=U,G=$,B=C[T],U=B[0],$=B[1],G<=i?$>i&&(U-q)*(i-G)>($-G)*(t-q)&&++w:$<=i&&(U-q)*(i-G)<($-G)*(t-q)&&--w;return w}function W(){l=f,h=[],d=[],O=!0}function R(){var w=D(),b=O&&w,x=(h=Jo(h)).length;(b||x)&&(u.polygonStart(),b&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),x&&Cs(h,a,w,o,u),u.polygonEnd()),l=u,h=d=v=null}function Z(){N.point=m,d&&d.push(v=[]),E=!0,k=!1,_=S=NaN}function j(){h&&(m(y,p),g&&k&&f.rejoin(),h.push(f.result())),N.point=L,k&&l.lineEnd()}function m(w,b){var x=r(w,b);if(d&&v.push([w,b]),E)y=w,p=b,g=x,E=!1,x&&(l.lineStart(),l.point(w,b));else if(x&&k)l.point(w,b);else{var C=[_=Math.max(_n,Math.min(Ie,_)),S=Math.max(_n,Math.min(Ie,S))],T=[w=Math.max(_n,Math.min(Ie,w)),b=Math.max(_n,Math.min(Ie,b))];zf(C,T,t,e,n,i)?(k||(l.lineStart(),l.point(C[0],C[1])),l.point(T[0],T[1]),x||l.lineEnd(),O=!1):x&&(l.lineStart(),l.point(w,b),O=!1)}_=w,S=b,k=x}return N}}const Yi=t=>t;var _i=new re,Gi=new re,Os,Ts,Ki,Ui,Zt={point:kt,lineStart:kt,lineEnd:kt,polygonStart:function(){Zt.lineStart=Rf,Zt.lineEnd=Bf},polygonEnd:function(){Zt.lineStart=Zt.lineEnd=Zt.point=kt,_i.add(Q(Gi)),Gi=new re},result:function(){var t=_i/2;return _i=new re,t}};function Rf(){Zt.point=Nf}function Nf(t,e){Zt.point=zs,Os=Ki=t,Ts=Ui=e}function zs(t,e){Gi.add(Ui*t-Ki*e),Ki=t,Ui=e}function Bf(){zs(Os,Ts)}const so=Zt;var be=1/0,qn=be,Ze=-be,Wn=Ze,Lf={point:If,lineStart:kt,lineEnd:kt,polygonStart:kt,polygonEnd:kt,result:function(){var t=[[be,qn],[Ze,Wn]];return Ze=Wn=-(qn=be=1/0),t}};function If(t,e){t<be&&(be=t),t>Ze&&(Ze=t),e<qn&&(qn=e),e>Wn&&(Wn=e)}const Vn=Lf;var Zi=0,Ji=0,De=0,Hn=0,jn=0,ge=0,Qi=0,$i=0,Fe=0,As,Rs,Ot,Tt,Ct={point:se,lineStart:ao,lineEnd:lo,polygonStart:function(){Ct.lineStart=qf,Ct.lineEnd=Wf},polygonEnd:function(){Ct.point=se,Ct.lineStart=ao,Ct.lineEnd=lo},result:function(){var t=Fe?[Qi/Fe,$i/Fe]:ge?[Hn/ge,jn/ge]:De?[Zi/De,Ji/De]:[NaN,NaN];return Zi=Ji=De=Hn=jn=ge=Qi=$i=Fe=0,t}};function se(t,e){Zi+=t,Ji+=e,++De}function ao(){Ct.point=Df}function Df(t,e){Ct.point=Ff,se(Ot=t,Tt=e)}function Ff(t,e){var n=t-Ot,i=e-Tt,r=ue(n*n+i*i);Hn+=r*(Ot+t)/2,jn+=r*(Tt+e)/2,ge+=r,se(Ot=t,Tt=e)}function lo(){Ct.point=se}function qf(){Ct.point=Vf}function Wf(){Ns(As,Rs)}function Vf(t,e){Ct.point=Ns,se(As=Ot=t,Rs=Tt=e)}function Ns(t,e){var n=t-Ot,i=e-Tt,r=ue(n*n+i*i);Hn+=r*(Ot+t)/2,jn+=r*(Tt+e)/2,ge+=r,r=Tt*t-Ot*e,Qi+=r*(Ot+t),$i+=r*(Tt+e),Fe+=r*3,se(Ot=t,Tt=e)}const uo=Ct;function Bs(t){this._context=t}Bs.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,St);break}}},result:kt};var tr=new re,wi,Ls,Is,qe,We,Xn={point:kt,lineStart:function(){Xn.point=Hf},lineEnd:function(){wi&&Ds(Ls,Is),Xn.point=kt},polygonStart:function(){wi=!0},polygonEnd:function(){wi=null},result:function(){var t=+tr;return tr=new re,t}};function Hf(t,e){Xn.point=Ds,Ls=qe=t,Is=We=e}function Ds(t,e){qe-=t,We-=e,tr.add(ue(qe*qe+We*We)),qe=t,We=e}const co=Xn;function Fs(){this._string=[]}Fs.prototype={_radius:4.5,_circle:fo(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=fo(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function fo(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function jf(t,e){var n=4.5,i,r;function o(s){return s&&(typeof n=="function"&&r.pointRadius(+n.apply(this,arguments)),de(s,i(r))),r.result()}return o.area=function(s){return de(s,i(so)),so.result()},o.measure=function(s){return de(s,i(co)),co.result()},o.bounds=function(s){return de(s,i(Vn)),Vn.result()},o.centroid=function(s){return de(s,i(uo)),uo.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Yi):(t=s).stream,o):t},o.context=function(s){return arguments.length?(r=s==null?(e=null,new Fs):new Bs(e=s),typeof n!="function"&&r.pointRadius(n),o):e},o.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(r.pointRadius(+s),+s),o):n},o.projection(t).context(e)}function dr(t){return function(e){var n=new er;for(var i in t)n[i]=t[i];return n.stream=e,n}}function er(){}er.prototype={constructor:er,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function pr(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),de(n,t.stream(Vn)),e(Vn.result()),i!=null&&t.clipExtent(i),t}function qs(t,e,n){return pr(t,function(i){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+e[0][0]+(r-s*(i[1][0]+i[0][0]))/2,c=+e[0][1]+(o-s*(i[1][1]+i[0][1]))/2;t.scale(150*s).translate([a,c])},n)}function Xf(t,e,n){return qs(t,[[0,0],e],n)}function Yf(t,e,n){return pr(t,function(i){var r=+e,o=r/(i[1][0]-i[0][0]),s=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];t.scale(150*o).translate([s,a])},n)}function Gf(t,e,n){return pr(t,function(i){var r=+e,o=r/(i[1][1]-i[0][1]),s=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([s,a])},n)}var ho=16,Kf=tt(30*it);function po(t,e){return+e?Zf(t,e):Uf(t)}function Uf(t){return dr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Zf(t,e){function n(i,r,o,s,a,c,u,l,f,h,d,v,y,p){var g=u-i,_=l-r,S=g*g+_*_;if(S>4*e&&y--){var k=s+h,E=a+d,O=c+v,N=ue(k*k+E*E+O*O),L=Ue(O/=N),D=Q(Q(O)-1)<K||Q(o-f)<K?(o+f)/2:Ke(E,k),W=t(D,L),R=W[0],Z=W[1],j=R-i,m=Z-r,w=_*j-g*m;(w*w/S>e||Q((g*j+_*m)/S-.5)>.3||s*h+a*d+c*v<Kf)&&(n(i,r,o,s,a,c,R,Z,D,k/=N,E/=N,O,y,p),p.point(R,Z),n(R,Z,D,k,E,O,u,l,f,h,d,v,y,p))}}return function(i){var r,o,s,a,c,u,l,f,h,d,v,y,p={point:g,lineStart:_,lineEnd:k,polygonStart:function(){i.polygonStart(),p.lineStart=E},polygonEnd:function(){i.polygonEnd(),p.lineStart=_}};function g(L,D){L=t(L,D),i.point(L[0],L[1])}function _(){f=NaN,p.point=S,i.lineStart()}function S(L,D){var W=we([L,D]),R=t(L,D);n(f,h,l,d,v,y,f=R[0],h=R[1],l=L,d=W[0],v=W[1],y=W[2],ho,i),i.point(f,h)}function k(){p.point=g,i.lineEnd()}function E(){_(),p.point=O,p.lineEnd=N}function O(L,D){S(r=L,D),o=f,s=h,a=d,c=v,u=y,p.point=S}function N(){n(f,h,l,d,v,y,o,s,r,a,c,u,ho,i),p.lineEnd=k,k()}return p}}var Jf=dr({point:function(t,e){this.stream.point(t*it,e*it)}});function Qf(t){return dr({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function $f(t,e,n,i,r){function o(s,a){return s*=i,a*=r,[e+t*s,n-t*a]}return o.invert=function(s,a){return[(s-e)/t*i,(n-a)/t*r]},o}function go(t,e,n,i,r,o){if(!o)return $f(t,e,n,i,r);var s=tt(o),a=et(o),c=s*t,u=a*t,l=s/t,f=a/t,h=(a*n-s*e)/t,d=(a*e+s*n)/t;function v(y,p){return y*=i,p*=r,[c*y-u*p+e,n-u*y-c*p]}return v.invert=function(y,p){return[i*(l*y-f*p+h),r*(d-f*y-l*p)]},v}function th(t){return eh(function(){return t})()}function eh(t){var e,n=150,i=480,r=250,o=0,s=0,a=0,c=0,u=0,l,f=0,h=1,d=1,v=null,y=oo,p=null,g,_,S,k=Yi,E=.5,O,N,L,D,W;function R(w){return L(w[0]*it,w[1]*it)}function Z(w){return w=L.invert(w[0],w[1]),w&&[w[0]*wt,w[1]*wt]}R.stream=function(w){return D&&W===w?D:D=Jf(Qf(l)(y(O(k(W=w)))))},R.preclip=function(w){return arguments.length?(y=w,v=void 0,m()):y},R.postclip=function(w){return arguments.length?(k=w,p=g=_=S=null,m()):k},R.clipAngle=function(w){return arguments.length?(y=+w?Tf(v=w*it):(v=null,oo),m()):v*wt},R.clipExtent=function(w){return arguments.length?(k=w==null?(p=g=_=S=null,Yi):Af(p=+w[0][0],g=+w[0][1],_=+w[1][0],S=+w[1][1]),m()):p==null?null:[[p,g],[_,S]]},R.scale=function(w){return arguments.length?(n=+w,j()):n},R.translate=function(w){return arguments.length?(i=+w[0],r=+w[1],j()):[i,r]},R.center=function(w){return arguments.length?(o=w[0]%360*it,s=w[1]%360*it,j()):[o*wt,s*wt]},R.rotate=function(w){return arguments.length?(a=w[0]%360*it,c=w[1]%360*it,u=w.length>2?w[2]%360*it:0,j()):[a*wt,c*wt,u*wt]},R.angle=function(w){return arguments.length?(f=w%360*it,j()):f*wt},R.reflectX=function(w){return arguments.length?(h=w?-1:1,j()):h<0},R.reflectY=function(w){return arguments.length?(d=w?-1:1,j()):d<0},R.precision=function(w){return arguments.length?(O=po(N,E=w*w),m()):ue(E)},R.fitExtent=function(w,b){return qs(R,w,b)},R.fitSize=function(w,b){return Xf(R,w,b)},R.fitWidth=function(w,b){return Yf(R,w,b)},R.fitHeight=function(w,b){return Gf(R,w,b)};function j(){var w=go(n,0,0,h,d,f).apply(null,e(o,s)),b=go(n,i-w[0],r-w[1],h,d,f);return l=ks(a,c,u),N=ji(e,b),L=ji(l,N),O=po(N,E),m()}function m(){return D=W=null,R}return function(){return e=t.apply(this,arguments),R.invert=e.invert&&Z,j()}}function gr(t,e){return[t,yf(wf((yt+e)/2))]}gr.invert=function(t,e){return[t,2*Es(mf(e))-yt]};function nh(){return ih(gr).scale(961/St)}function ih(t){var e=th(t),n=e.center,i=e.scale,r=e.translate,o=e.clipExtent,s=null,a,c,u;e.scale=function(f){return arguments.length?(i(f),l()):i()},e.translate=function(f){return arguments.length?(r(f),l()):r()},e.center=function(f){return arguments.length?(n(f),l()):n()},e.clipExtent=function(f){return arguments.length?(f==null?s=a=c=u=null:(s=+f[0][0],a=+f[0][1],c=+f[1][0],u=+f[1][1]),l()):s==null?null:[[s,a],[c,u]]};function l(){var f=V*i(),h=e(Sf(e.rotate()).invert([0,0]));return o(s==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===gr?[[Math.max(h[0]-f,s),a],[Math.min(h[0]+f,c),u]]:[[s,Math.max(h[1]-f,a)],[c,Math.min(h[1]+f,u)]])}return l()}const wn=t=>()=>t;function rh(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Yt(t,e,n){this.k=t,this.x=e,this.y=n}Yt.prototype={constructor:Yt,scale:function(t){return t===1?this:new Yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Je=new Yt(1,0,0);Ws.prototype=Yt.prototype;function Ws(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Je;return t.__zoom}function bi(t){t.stopImmediatePropagation()}function Oe(t){t.preventDefault(),t.stopImmediatePropagation()}function oh(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function sh(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function vo(){return this.__zoom||Je}function ah(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function lh(){return navigator.maxTouchPoints||"ontouchstart"in this}function uh(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ch(){var t=oh,e=sh,n=uh,i=ah,r=lh,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=nc,u=or("start","zoom","end"),l,f,h,d=500,v=150,y=0,p=10;function g(m){m.property("__zoom",vo).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",W).filter(r).on("touchstart.zoom",R).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(m,w,b,x){var C=m.selection?m.selection():m;C.property("__zoom",vo),m!==C?E(m,w,b,x):C.interrupt().each(function(){O(this,arguments).event(x).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},g.scaleBy=function(m,w,b,x){g.scaleTo(m,function(){var C=this.__zoom.k,T=typeof w=="function"?w.apply(this,arguments):w;return C*T},b,x)},g.scaleTo=function(m,w,b,x){g.transform(m,function(){var C=e.apply(this,arguments),T=this.__zoom,z=b==null?k(C):typeof b=="function"?b.apply(this,arguments):b,B=T.invert(z),q=typeof w=="function"?w.apply(this,arguments):w;return n(S(_(T,q),z,B),C,s)},b,x)},g.translateBy=function(m,w,b,x){g.transform(m,function(){return n(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof b=="function"?b.apply(this,arguments):b),e.apply(this,arguments),s)},null,x)},g.translateTo=function(m,w,b,x,C){g.transform(m,function(){var T=e.apply(this,arguments),z=this.__zoom,B=x==null?k(T):typeof x=="function"?x.apply(this,arguments):x;return n(Je.translate(B[0],B[1]).scale(z.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof b=="function"?-b.apply(this,arguments):-b),T,s)},x,C)};function _(m,w){return w=Math.max(o[0],Math.min(o[1],w)),w===m.k?m:new Yt(w,m.x,m.y)}function S(m,w,b){var x=w[0]-b[0]*m.k,C=w[1]-b[1]*m.k;return x===m.x&&C===m.y?m:new Yt(m.k,x,C)}function k(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function E(m,w,b,x){m.on("start.zoom",function(){O(this,arguments).event(x).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(x).end()}).tween("zoom",function(){var C=this,T=arguments,z=O(C,T).event(x),B=e.apply(C,T),q=b==null?k(B):typeof b=="function"?b.apply(C,T):b,G=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),U=C.__zoom,$=typeof w=="function"?w.apply(C,T):w,Mt=c(U.invert(q).concat(G/U.k),$.invert(q).concat(G/$.k));return function(pt){if(pt===1)pt=$;else{var Et=Mt(pt),fe=G/Et[2];pt=new Yt(fe,q[0]-Et[0]*fe,q[1]-Et[1]*fe)}z.zoom(null,pt)}})}function O(m,w,b){return!b&&m.__zooming||new N(m,w)}function N(m,w){this.that=m,this.args=w,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,w),this.taps=0}N.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,w){return this.mouse&&m!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var w=st(this.that).datum();u.call(m,this.that,new rh(m,{sourceEvent:this.sourceEvent,target:g,type:m,transform:this.that.__zoom,dispatch:u}),w)}};function L(m,...w){if(!t.apply(this,arguments))return;var b=O(this,w).event(m),x=this.__zoom,C=Math.max(o[0],Math.min(o[1],x.k*Math.pow(2,i.apply(this,arguments)))),T=jt(m);if(b.wheel)(b.mouse[0][0]!==T[0]||b.mouse[0][1]!==T[1])&&(b.mouse[1]=x.invert(b.mouse[0]=T)),clearTimeout(b.wheel);else{if(x.k===C)return;b.mouse=[T,x.invert(T)],Pn(this),b.start()}Oe(m),b.wheel=setTimeout(z,v),b.zoom("mouse",n(S(_(x,C),b.mouse[0],b.mouse[1]),b.extent,s));function z(){b.wheel=null,b.end()}}function D(m,...w){if(h||!t.apply(this,arguments))return;var b=m.currentTarget,x=O(this,w,!0).event(m),C=st(m.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",G,!0),T=jt(m,b),z=m.clientX,B=m.clientY;Ou(m.view),bi(m),x.mouse=[T,this.__zoom.invert(T)],Pn(this),x.start();function q(U){if(Oe(U),!x.moved){var $=U.clientX-z,Mt=U.clientY-B;x.moved=$*$+Mt*Mt>y}x.event(U).zoom("mouse",n(S(x.that.__zoom,x.mouse[0]=jt(U,b),x.mouse[1]),x.extent,s))}function G(U){C.on("mousemove.zoom mouseup.zoom",null),Tu(U.view,x.moved),Oe(U),x.event(U).end()}}function W(m,...w){if(!!t.apply(this,arguments)){var b=this.__zoom,x=jt(m.changedTouches?m.changedTouches[0]:m,this),C=b.invert(x),T=b.k*(m.shiftKey?.5:2),z=n(S(_(b,T),x,C),e.apply(this,w),s);Oe(m),a>0?st(this).transition().duration(a).call(E,z,x,m):st(this).call(g.transform,z,x,m)}}function R(m,...w){if(!!t.apply(this,arguments)){var b=m.touches,x=b.length,C=O(this,w,m.changedTouches.length===x).event(m),T,z,B,q;for(bi(m),z=0;z<x;++z)B=b[z],q=jt(B,this),q=[q,this.__zoom.invert(q),B.identifier],C.touch0?!C.touch1&&C.touch0[2]!==q[2]&&(C.touch1=q,C.taps=0):(C.touch0=q,T=!0,C.taps=1+!!l);l&&(l=clearTimeout(l)),T&&(C.taps<2&&(f=q[0],l=setTimeout(function(){l=null},d)),Pn(this),C.start())}}function Z(m,...w){if(!!this.__zooming){var b=O(this,w).event(m),x=m.changedTouches,C=x.length,T,z,B,q;for(Oe(m),T=0;T<C;++T)z=x[T],B=jt(z,this),b.touch0&&b.touch0[2]===z.identifier?b.touch0[0]=B:b.touch1&&b.touch1[2]===z.identifier&&(b.touch1[0]=B);if(z=b.that.__zoom,b.touch1){var G=b.touch0[0],U=b.touch0[1],$=b.touch1[0],Mt=b.touch1[1],pt=(pt=$[0]-G[0])*pt+(pt=$[1]-G[1])*pt,Et=(Et=Mt[0]-U[0])*Et+(Et=Mt[1]-U[1])*Et;z=_(z,Math.sqrt(pt/Et)),B=[(G[0]+$[0])/2,(G[1]+$[1])/2],q=[(U[0]+Mt[0])/2,(U[1]+Mt[1])/2]}else if(b.touch0)B=b.touch0[0],q=b.touch0[1];else return;b.zoom("touch",n(S(z,B,q),b.extent,s))}}function j(m,...w){if(!!this.__zooming){var b=O(this,w).event(m),x=m.changedTouches,C=x.length,T,z;for(bi(m),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),T=0;T<C;++T)z=x[T],b.touch0&&b.touch0[2]===z.identifier?delete b.touch0:b.touch1&&b.touch1[2]===z.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(z=jt(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<p)){var B=st(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(m){return arguments.length?(i=typeof m=="function"?m:wn(+m),g):i},g.filter=function(m){return arguments.length?(t=typeof m=="function"?m:wn(!!m),g):t},g.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:wn(!!m),g):r},g.extent=function(m){return arguments.length?(e=typeof m=="function"?m:wn([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),g):e},g.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],g):[o[0],o[1]]},g.translateExtent=function(m){return arguments.length?(s[0][0]=+m[0][0],s[1][0]=+m[1][0],s[0][1]=+m[0][1],s[1][1]=+m[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(m){return arguments.length?(n=m,g):n},g.duration=function(m){return arguments.length?(a=+m,g):a},g.interpolate=function(m){return arguments.length?(c=m,g):c},g.on=function(){var m=u.on.apply(u,arguments);return m===u?g:m},g.clickDistance=function(m){return arguments.length?(y=(m=+m)*m,g):Math.sqrt(y)},g.tapDistance=function(m){return arguments.length?(p=+m,g):p},g}const Yn=5;function fh(t){let e,n,i,r,o,s,a,c;return{c(){e=I("div"),n=I("div"),i=I("div"),r=zt(t[0]),s=ot(),a=I("div"),P(i,"class",o=lt(`tile-front ${t[1]}`)+" svelte-ubv6m5"),Y(i,"round",t[2]),Y(i,"blur",t[3]),P(a,"class","tile-back svelte-ubv6m5"),Y(a,"round",t[2]),Y(a,"blur",t[3]),P(n,"class","tile-inner svelte-ubv6m5"),Tr(n,"transition-delay",`${t[5]}s`,!1),P(e,"class",c=lt(`tile face-${t[4]}`)+" svelte-ubv6m5")},m(u,l){nt(u,e,l),A(e,n),A(n,i),A(i,r),A(n,s),A(n,a)},p(u,[l]){l&1&&Qe(r,u[0]),l&2&&o!==(o=lt(`tile-front ${u[1]}`)+" svelte-ubv6m5")&&P(i,"class",o),l&6&&Y(i,"round",u[2]),l&10&&Y(i,"blur",u[3]),l&4&&Y(a,"round",u[2]),l&8&&Y(a,"blur",u[3]),l&32&&Tr(n,"transition-delay",`${u[5]}s`,!1),l&16&&c!==(c=lt(`tile face-${u[4]}`)+" svelte-ubv6m5")&&P(e,"class",c)},i:rt,o:rt,d(u){u&&J(e)}}}function hh(t,e,n){let{char:i=""}=e,{style:r="default"}=e,{round:o=!1}=e,{blur:s=!1}=e,{face:a="back"}=e,{delay:c=0}=e;return t.$$set=u=>{"char"in u&&n(0,i=u.char),"style"in u&&n(1,r=u.style),"round"in u&&n(2,o=u.round),"blur"in u&&n(3,s=u.blur),"face"in u&&n(4,a=u.face),"delay"in u&&n(5,c=u.delay)},[i,r,o,s,a,c]}class Vs extends Dt{constructor(e){super(),It(this,e,hh,fh,Lt,{char:0,style:1,round:2,blur:3,face:4,delay:5})}}function mo(t,e,n){const i=t.slice();return i[1]=e[n],i}function yo(t){let e,n=t[1].char+"",i,r,o;return{c(){e=I("div"),i=zt(n),r=ot(),P(e,"class",o=lt(`tile ${t[1].category}`)+" svelte-27m76z")},m(s,a){nt(s,e,a),A(e,i),A(e,r)},p(s,a){a&1&&n!==(n=s[1].char+"")&&Qe(i,n),a&1&&o!==(o=lt(`tile ${s[1].category}`)+" svelte-27m76z")&&P(e,"class",o)},d(s){s&&J(e)}}}function dh(t){let e,n,i,r,o,s,a,c,u=t[0].city.abstract+"",l,f,h,d,v,y=t[0].regionTiles,p=[];for(let g=0;g<y.length;g+=1)p[g]=yo(mo(t,y,g));return{c(){e=I("div"),n=I("div"),n.innerHTML='<span class="material-symbols-outlined svelte-27m76z">help</span>',i=ot(),r=I("div"),o=I("div");for(let g=0;g<p.length;g+=1)p[g].c();s=ot(),a=I("p"),c=zt("\u201D"),l=zt(u),f=zt(`\u201D
      `),h=I("a"),d=zt("Wikipedia"),P(n,"class","tooltip-icon"),P(o,"class","region svelte-27m76z"),P(h,"href",v=t[0].city.wikipedia),P(h,"target","_blank"),P(h,"class","svelte-27m76z"),P(a,"class","svelte-27m76z"),P(r,"class","tooltip-text svelte-27m76z"),P(e,"class","tooltip svelte-27m76z")},m(g,_){nt(g,e,_),A(e,n),A(e,i),A(e,r),A(r,o);for(let S=0;S<p.length;S+=1)p[S].m(o,null);A(r,s),A(r,a),A(a,c),A(a,l),A(a,f),A(a,h),A(h,d)},p(g,[_]){if(_&1){y=g[0].regionTiles;let S;for(S=0;S<y.length;S+=1){const k=mo(g,y,S);p[S]?p[S].p(k,_):(p[S]=yo(k),p[S].c(),p[S].m(o,null))}for(;S<p.length;S+=1)p[S].d(1);p.length=y.length}_&1&&u!==(u=g[0].city.abstract+"")&&Qe(l,u),_&1&&v!==(v=g[0].city.wikipedia)&&P(h,"href",v)},i:rt,o:rt,d(g){g&&J(e),Un(p,g)}}}function ph(t,e,n){let{content:i}=e;return t.$$set=r=>{"content"in r&&n(0,i=r.content)},[i]}class Hs extends Dt{constructor(e){super(),It(this,e,ph,dh,Lt,{content:0})}}function _o(t,e,n){const i=t.slice();return i[9]=e[n],i}function wo(t){let e,n;return e=new Vs({props:{char:t[9],face:"front",style:t[0]?"hit":"default",round:!0,blur:t[3]}}),{c(){_t(e.$$.fragment)},m(i,r){ft(e,i,r),n=!0},p(i,r){const o={};r&64&&(o.char=i[9]),r&1&&(o.style=i[0]?"hit":"default"),r&8&&(o.blur=i[3]),e.$set(o)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){H(e.$$.fragment,i),n=!1},d(i){ht(e,i)}}}function gh(t){let e,n,i,r,o,s,a,c,u,l,f,h,d,v,y=t[6],p=[];for(let _=0;_<y.length;_+=1)p[_]=wo(_o(t,y,_));const g=_=>H(p[_],1,1,()=>{p[_]=null});return f=new Hs({props:{content:t[4]}}),{c(){e=I("div"),n=I("button"),n.innerHTML='<span class="material-symbols-outlined svelte-w9n0t2">refresh</span>',i=ot(),r=I("button"),o=I("span"),s=zt(t[5]),a=ot(),c=I("div");for(let _=0;_<p.length;_+=1)p[_].c();u=ot(),l=I("div"),_t(f.$$.fragment),P(n,"id","refresh"),P(n,"class","svelte-w9n0t2"),Y(n,"finished",t[0]),P(o,"class","material-symbols-outlined svelte-w9n0t2"),P(r,"id","visibility"),P(r,"class","svelte-w9n0t2"),Y(r,"finished",t[0]),P(c,"class","tile-container svelte-w9n0t2"),P(l,"class","tooltip-container svelte-w9n0t2"),Y(l,"finished",t[0]),P(e,"id","question"),P(e,"class","svelte-w9n0t2")},m(_,S){nt(_,e,S),A(e,n),A(e,i),A(e,r),A(r,o),A(o,s),A(e,a),A(e,c);for(let k=0;k<p.length;k+=1)p[k].m(c,null);A(e,u),A(e,l),ft(f,l,null),h=!0,d||(v=[bt(n,"click",function(){te(t[1]())&&t[1]().apply(this,arguments)}),bt(r,"click",t[8])],d=!0)},p(_,[S]){if(t=_,S&1&&Y(n,"finished",t[0]),(!h||S&32)&&Qe(s,t[5]),S&1&&Y(r,"finished",t[0]),S&73){y=t[6];let E;for(E=0;E<y.length;E+=1){const O=_o(t,y,E);p[E]?(p[E].p(O,S),F(p[E],1)):(p[E]=wo(O),p[E].c(),F(p[E],1),p[E].m(c,null))}for(Nt(),E=y.length;E<p.length;E+=1)g(E);Bt()}const k={};S&16&&(k.content=t[4]),f.$set(k),S&1&&Y(l,"finished",t[0])},i(_){if(!h){for(let S=0;S<y.length;S+=1)F(p[S]);F(f.$$.fragment,_),h=!0}},o(_){p=p.filter(Boolean);for(let S=0;S<p.length;S+=1)H(p[S]);H(f.$$.fragment,_),h=!1},d(_){_&&J(e),Un(p,_),ht(f),d=!1,Kt(v)}}}function vh(t,e,n){let i,r,o,s,{city:a}=e,{finished:c}=e,{refresh:u}=e,l=!0;const f=()=>n(2,l=!l);return t.$$set=h=>{"city"in h&&n(7,a=h.city),"finished"in h&&n(0,c=h.finished),"refresh"in h&&n(1,u=h.refresh)},t.$$.update=()=>{t.$$.dirty&128&&n(6,i=a.name.padEnd(5,"_")),t.$$.dirty&5&&n(3,r=c?!1:l),t.$$.dirty&8&&n(5,o=r?"visibility_off":"visibility"),t.$$.dirty&128&&n(4,s={city:a,regionTiles:[...a.region].map(h=>({char:h,category:"hit"}))})},[c,u,l,r,s,o,i,a,f]}class mh extends Dt{constructor(e){super(),It(this,e,vh,gh,Lt,{city:7,finished:0,refresh:1})}}function yh(t){return t}function _h(t){if(t==null)return yh;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],s=t.translate[1];return function(a,c){c||(e=n=0);var u=2,l=a.length,f=new Array(l);for(f[0]=(e+=a[0])*i+o,f[1]=(n+=a[1])*r+s;u<l;)f[u]=a[u],++u;return f}}function wh(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function bh(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return bo(t,n)})}:bo(t,e)}function bo(t,e){var n=e.id,i=e.bbox,r=e.properties==null?{}:e.properties,o=Sh(t,e);return n==null&&i==null?{type:"Feature",properties:r,geometry:o}:i==null?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:i,properties:r,geometry:o}}function Sh(t,e){var n=_h(t.transform),i=t.arcs;function r(l,f){f.length&&f.pop();for(var h=i[l<0?~l:l],d=0,v=h.length;d<v;++d)f.push(n(h[d],d));l<0&&wh(f,v)}function o(l){return n(l)}function s(l){for(var f=[],h=0,d=l.length;h<d;++h)r(l[h],f);return f.length<2&&f.push(f[0]),f}function a(l){for(var f=s(l);f.length<4;)f.push(f[0]);return f}function c(l){return l.map(a)}function u(l){var f=l.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:l.geometries.map(u)};case"Point":h=o(l.coordinates);break;case"MultiPoint":h=l.coordinates.map(o);break;case"LineString":h=s(l.arcs);break;case"MultiLineString":h=l.arcs.map(s);break;case"Polygon":h=c(l.arcs);break;case"MultiPolygon":h=l.arcs.map(c);break;default:return null}return{type:f,coordinates:h}}return u(e)}var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Si={},Te={},$n={},vr={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.settings=void 0;ce.settings={debug:!1,gravity:800,zIndex:99999,respectReducedMotion:!0};var ae={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.overrideDefaults=void 0;function Mh(t,e){return Object.assign({},t,e)}Se.overrideDefaults=Mh;var ti={},qt={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.Circle=void 0;var Eh=function(){function t(e,n,i){i===void 0&&(i=0),this.x=e,this.y=n,this.radius=i}return t.zero=new t(0,0),t}();ei.Circle=Eh;var ni={},Qt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.approximately=t.clamp=t.invlerp=t.slerp=t.lerp=t.epsilon=t.rad2deg=t.deg2rad=void 0,t.deg2rad=Math.PI/180,t.rad2deg=180/Math.PI,t.epsilon=1e-6;function e(s,a,c){return(1-c)*s+c*a}t.lerp=e;function n(s,a,c){return e(s,a,(1-Math.cos(c*Math.PI))/2)}t.slerp=n;function i(s,a,c){return(c-s)/(a-s)}t.invlerp=i;function r(s,a,c){return Math.min(c,Math.max(a,s))}t.clamp=r;function o(s,a){return Math.abs(s-a)<t.epsilon}t.approximately=o})(Qt);Object.defineProperty(ni,"__esModule",{value:!0});ni.Color=void 0;var Mi=Qt,kh=function(){function t(e,n,i){this.values=new Float32Array(3),this.rgb=[e,n,i]}return Object.defineProperty(t.prototype,"r",{get:function(){return this.values[0]},set:function(e){this.values[0]=Math.floor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this.values[1]},set:function(e){this.values[1]=Math.floor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.values[2]},set:function(e){this.values[2]=Math.floor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return[this.r,this.g,this.b]},set:function(e){this.r=e[0],this.g=e[1],this.b=e[2]},enumerable:!1,configurable:!0}),t.prototype.mix=function(e,n){return n===void 0&&(n=.5),new t(Mi.lerp(this.r,e.r,n),Mi.lerp(this.g,e.g,n),Mi.lerp(this.b,e.b,n))},t.prototype.toHex=function(){var e=function(n){return n.toString(16).padStart(2,"0")};return"#"+e(this.r)+e(this.g)+e(this.b)},t.prototype.toString=function(){return"rgb("+this.values.join(", ")+")"},t.fromHex=function(e){return e.startsWith("#")&&(e=e.substr(1)),new t(parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16))},t.fromHsl=function(e,n,i){if(e/=360,n/=100,i/=100,n===0)return new t(i,i,i);var r=function(c,u,l){return l<0&&(l+=1),l>1&&(l-=1),l<.16666666666666666?c+(u-c)*6*l:l<.5?u:l<.6666666666666666?c+(u-c)*(.6666666666666666-l)*6:c},o=function(c){return Math.min(255,256*c)},s=i<.5?i*(1+n):i+n-i*n,a=2*i-s;return new t(o(r(a,s,e+1/3)),o(r(a,s,e)),o(r(a,s,e-1/3)))},t.white=new t(255,255,255),t.black=new t(0,0,0),t}();ni.Color=kh;var ii={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.Spline=void 0;var xh=Qt,Ch=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length===0)throw new Error("Splines require at least one key.");if(Array.isArray(e[0]))throw new Error("You are trying to pass an array to the spline constructor, which is not supported. Try to spread the array into the constructor instead.");this.keys=e}return t.prototype.evaluate=function(e){if(this.keys.length===0)throw new Error("Attempt to evaluate a spline with no keys.");if(this.keys.length===1)return this.keys[0].value;var n=this.keys.sort(function(a,c){return a.time-c.time}),i=n.findIndex(function(a){return a.time>e});if(i===0)return n[0].value;if(i===-1)return n[n.length-1].value;var r=n[i-1],o=n[i],s=xh.invlerp(r.time,o.time,e);return this.interpolate(r.value,o.value,s)},t}();nn.Spline=Ch;var Ph=X&&X.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oh=X&&X.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(ii,"__esModule",{value:!0});ii.Gradient=void 0;var Th=nn,zh=function(t){Ph(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.interpolate=function(n,i,r){return n.mix(i,r)},e.solid=function(n){return new e({value:n,time:.5})},e.simple=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=1/(n.length-1);return new(e.bind.apply(e,Oh([void 0],n.map(function(o,s){return{value:o,time:s*r}}))))},e}(Th.Spline);ii.Gradient=zh;var ri={},Ah=X&&X.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(ri,"__esModule",{value:!0});ri.NumericSpline=void 0;var Rh=Qt,Nh=nn,Bh=function(t){Ah(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.interpolate=function(n,i,r){return Rh.slerp(n,i,r)},e}(Nh.Spline);ri.NumericSpline=Bh;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.Rect=void 0;var Lh=function(){function t(e,n,i,r){i===void 0&&(i=0),r===void 0&&(r=0),this.x=e,this.y=n,this.width=i,this.height=r}return t.fromScreen=function(){return new t(window.scrollX,window.scrollY,window.innerWidth,window.innerHeight)},t.fromElement=function(e){var n=e.getBoundingClientRect();return new t(window.scrollX+n.x,window.scrollY+n.y,n.width,n.height)},t.zero=new t(0,0),t}();oi.Rect=Lh;var Me={},Ih=X&&X.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(Me,"__esModule",{value:!0});Me.Vector=void 0;var bn=Qt,Dh=function(){function t(e,n,i){e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.values=new Float32Array(3),this.xyz=[e,n,i]}return Object.defineProperty(t.prototype,"x",{get:function(){return this.values[0]},set:function(e){this.values[0]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.values[1]},set:function(e){this.values[1]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.values[2]},set:function(e){this.values[2]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xyz",{get:function(){return[this.x,this.y,this.z]},set:function(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]},enumerable:!1,configurable:!0}),t.prototype.magnitude=function(){return Math.sqrt(this.sqrMagnitude())},t.prototype.sqrMagnitude=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.scale=function(e){return typeof e=="number"?new t(this.x*e,this.y*e,this.z*e):new t(this.x*e.x,this.y*e.y,this.z*e.z)},t.prototype.normalized=function(){var e=this.magnitude();return e!==0?this.scale(1/e):new(t.bind.apply(t,Ih([void 0],this.xyz)))},t.prototype.angle=function(e){return bn.rad2deg*Math.acos((this.x*e.x+this.y*e.y+this.z*e.z)/(this.magnitude()*e.magnitude()))},t.prototype.cross=function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},t.prototype.dot=function(e){return this.magnitude()*e.magnitude()*Math.cos(bn.deg2rad*this.angle(e))},t.prototype.toString=function(){return"Vector("+this.values.join(", ")+")"},t.from2dAngle=function(e){return new t(Math.cos(e*bn.deg2rad),Math.sin(e*bn.deg2rad))},t.zero=new t(0,0,0),t.one=new t(1,1,1),t.right=new t(1,0,0),t.up=new t(0,1,0),t.forward=new t(0,0,1),t}();Me.Vector=Dh;(function(t){var e=X&&X.__createBinding||(Object.create?function(i,r,o,s){s===void 0&&(s=o),Object.defineProperty(i,s,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,s){s===void 0&&(s=o),i[s]=r[o]}),n=X&&X.__exportStar||function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(ei,t),n(ni,t),n(ii,t),n(ri,t),n(oi,t),n(Me,t)})(qt);Object.defineProperty(ti,"__esModule",{value:!0});ti.rotationToNormal=void 0;var So=qt,Mo=Qt;function Fh(t){var e=t.x*Mo.deg2rad,n=t.y*Mo.deg2rad,i=new So.Vector(Math.cos(n),0,Math.sin(n)),r=new So.Vector(0,Math.cos(e),Math.sin(e));return i.cross(r)}ti.rotationToNormal=Fh;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.despawningRules=void 0;rn.despawningRules={lifetime:function(t){return t.lifetime<=0},bounds:function(t){var e=document.documentElement.scrollHeight;return t.location.y>e}};var si={};Object.defineProperty(si,"__esModule",{value:!0});si.Lazy=void 0;var qh=function(){function t(e,n){n===void 0&&(n=t.defaultExists),this.factory=e,this.exists=n}return Object.defineProperty(t.prototype,"current",{get:function(){return this.exists(this.value)||(this.value=this.factory()),this.value},enumerable:!1,configurable:!0}),t.defaultExists=function(e){return typeof e<"u"},t}();si.Lazy=qh;(function(t){var e=X&&X.__createBinding||(Object.create?function(i,r,o,s){s===void 0&&(s=o),Object.defineProperty(i,s,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,s){s===void 0&&(s=o),i[s]=r[o]}),n=X&&X.__exportStar||function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Se,t),n(ti,t),n(rn,t),n(si,t)})(ae);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.particleContainer=t.debugContainer=t.rootContainer=void 0;var e=ce,n=ae,i="party-js-";function r(s){return s&&s.isConnected}function o(s,a,c){var u=document.createElement("div");return u.id=i+s,Object.assign(u.style,a),c.appendChild(u)}t.rootContainer=new n.Lazy(function(){return o("container",{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",pointerEvents:"none",userSelect:"none",zIndex:e.settings.zIndex.toString()},document.body)},r),t.debugContainer=new n.Lazy(function(){return o("debug",{position:"absolute",top:"0",left:"0",margin:"0.5em",padding:"0.5em 1em",border:"2px solid rgb(0, 0, 0, 0.2)",background:"rgb(0, 0, 0, 0.1)",color:"#555",fontFamily:"monospace"},t.rootContainer.current)},r),t.particleContainer=new n.Lazy(function(){return o("particles",{width:"100%",height:"100%",overflow:"hidden",perspective:"1200px"},t.rootContainer.current)},r)})(vr);var Wh=X&&X.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty($n,"__esModule",{value:!0});$n.Debug=void 0;var Vh=vr,Eo=ce,Hh=function(){function t(e){this.scene=e,this.refreshRate=8,this.refreshTimer=1/this.refreshRate}return t.prototype.tick=function(e){var n=Vh.debugContainer.current,i=Eo.settings.debug?"block":"none";n.style.display!==i&&(n.style.display=i),Eo.settings.debug&&(this.refreshTimer+=e,this.refreshTimer>1/this.refreshRate&&(this.refreshTimer=0,n.innerHTML=this.getDebugInformation(e).join("<br>")))},t.prototype.getDebugInformation=function(e){var n=this.scene.emitters.length,i=this.scene.emitters.reduce(function(s,a){return s+a.particles.length},0),r=["<b>party.js Debug</b>","--------------","FPS: "+Math.round(1/e),"Emitters: "+n,"Particles: "+i],o=this.scene.emitters.map(function(s){return["\u2B6F: "+(s.currentLoop+1)+"/"+(s.options.loops>=0?s.options.loops:"\u221E"),"\u03A3p: "+s.particles.length,s.isExpired?"<i>expired</i>":"\u03A3t: "+s.durationTimer.toFixed(3)+"s"].join(", ")});return r.push.apply(r,Wh(["--------------"],o)),r},t}();$n.Debug=Hh;var on={},at={},ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.randomInsideCircle=ut.randomInsideRect=ut.randomUnitVector=ut.pick=ut.randomRange=void 0;var mr=qt,jh=Qt;function le(t,e){return t===void 0&&(t=0),e===void 0&&(e=1),jh.lerp(t,e,Math.random())}ut.randomRange=le;function Xh(t){return t.length===0?void 0:t[Math.floor(Math.random()*t.length)]}ut.pick=Xh;function Yh(){var t=le(0,2*Math.PI),e=le(-1,1);return new mr.Vector(Math.sqrt(1-e*e)*Math.cos(t),Math.sqrt(1-e*e)*Math.sin(t),e)}ut.randomUnitVector=Yh;function Gh(t){return new mr.Vector(t.x+le(0,t.width),t.y+le(0,t.height))}ut.randomInsideRect=Gh;function Kh(t){var e=le(0,2*Math.PI),n=le(0,t.radius);return new mr.Vector(t.x+Math.cos(e)*n,t.y+Math.sin(e)*n)}ut.randomInsideCircle=Kh;Object.defineProperty(at,"__esModule",{value:!0});at.gradientSample=at.splineSample=at.skewRelative=at.skew=at.range=at.evaluateVariation=void 0;var ai=ut;function Uh(t){return Array.isArray(t)?ai.pick(t):typeof t=="function"?t():t}at.evaluateVariation=Uh;function Zh(t,e){return function(){return ai.randomRange(t,e)}}at.range=Zh;function Jh(t,e){return function(){return t+ai.randomRange(-e,e)}}at.skew=Jh;function Qh(t,e){return function(){return t*(1+ai.randomRange(-e,e))}}at.skewRelative=Qh;function js(t){return function(){return t.evaluate(Math.random())}}at.splineSample=js;function $h(t){return js(t)}at.gradientSample=$h;var Xs={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.getDefaultEmitterOptions=void 0;var ko=rn;function td(){return{duration:5,loops:1,useGravity:!0,maxParticles:300,despawningRules:[ko.despawningRules.lifetime,ko.despawningRules.bounds],modules:[]}}li.getDefaultEmitterOptions=td;var ui={},ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.circleSource=ct.rectSource=ct.mouseSource=ct.elementSource=ct.dynamicSource=void 0;var Gn=qt,yr=ut;function ed(t){if(t instanceof HTMLElement)return Ys(t);if(t instanceof Gn.Circle)return Us(t);if(t instanceof Gn.Rect)return Ks(t);if(t instanceof MouseEvent)return Gs(t);throw new Error("Cannot infer the source type of '"+t+"'.")}ct.dynamicSource=ed;function Ys(t){return function(){return yr.randomInsideRect(Gn.Rect.fromElement(t))}}ct.elementSource=Ys;function Gs(t){return function(){return new Gn.Vector(window.scrollX+t.clientX,window.scrollY+t.clientY)}}ct.mouseSource=Gs;function Ks(t){return function(){return yr.randomInsideRect(t)}}ct.rectSource=Ks;function Us(t){return function(){return yr.randomInsideCircle(t)}}ct.circleSource=Us;Object.defineProperty(ui,"__esModule",{value:!0});ui.getDefaultEmissionOptions=void 0;var Ei=qt,nd=ct;function id(){return{rate:10,angle:0,bursts:[],sourceSampler:nd.rectSource(Ei.Rect.zero),initialLifetime:5,initialSpeed:5,initialSize:1,initialRotation:Ei.Vector.zero,initialColor:Ei.Color.white}}ui.getDefaultEmissionOptions=id;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.getDefaultRendererOptions=void 0;function rd(){return{shapeFactory:"square",applyColor:od,applyOpacity:sd,applyLighting:ad,applyTransform:ld}}ci.getDefaultRendererOptions=rd;function od(t,e){var n=t.toHex();switch(e.nodeName.toLowerCase()){case"div":e.style.background=n;break;case"svg":e.style.fill=e.style.color=n;break;default:e.style.color=n;break}}function sd(t,e){e.style.opacity=t.toString()}function ad(t,e){e.style.filter="brightness("+(.5+Math.abs(t))+")"}function ld(t,e){e.style.transform="translateX("+(t.location.x-window.scrollX).toFixed(3)+"px) "+("translateY("+(t.location.y-window.scrollY).toFixed(3)+"px) ")+("translateZ("+t.location.z.toFixed(3)+"px) ")+("rotateX("+t.rotation.x.toFixed(3)+"deg) ")+("rotateY("+t.rotation.y.toFixed(3)+"deg) ")+("rotateZ("+t.rotation.z.toFixed(3)+"deg) ")+("scale("+t.size.toFixed(3)+")")}(function(t){var e=X&&X.__createBinding||(Object.create?function(i,r,o,s){s===void 0&&(s=o),Object.defineProperty(i,s,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,s){s===void 0&&(s=o),i[s]=r[o]}),n=X&&X.__exportStar||function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(li,t),n(ui,t),n(ci,t)})(Xs);var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.Particle=void 0;var Sn=qt,ud=Se,cd=function(){function t(e){var n=ud.overrideDefaults({lifetime:0,size:1,location:Sn.Vector.zero,rotation:Sn.Vector.zero,velocity:Sn.Vector.zero,color:Sn.Color.white,opacity:1},e);this.id=Symbol(),this.size=this.initialSize=n.size,this.lifetime=this.initialLifetime=n.lifetime,this.rotation=this.initialRotation=n.rotation,this.location=n.location,this.velocity=n.velocity,this.color=n.color,this.opacity=n.opacity}return t}();sn.Particle=cd;Object.defineProperty(on,"__esModule",{value:!0});on.Emitter=void 0;var xo=Me,fd=ce,$t=at,ki=Se,xi=Xs,hd=sn,dd=function(){function t(e){this.particles=[],this.currentLoop=0,this.durationTimer=0,this.emissionTimer=0,this.attemptedBurstIndices=[],this.options=ki.overrideDefaults(xi.getDefaultEmitterOptions(),e==null?void 0:e.emitterOptions),this.emission=ki.overrideDefaults(xi.getDefaultEmissionOptions(),e==null?void 0:e.emissionOptions),this.renderer=ki.overrideDefaults(xi.getDefaultRendererOptions(),e==null?void 0:e.rendererOptions)}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return this.options.loops>=0&&this.currentLoop>=this.options.loops},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemove",{get:function(){return this.particles.length===0},enumerable:!1,configurable:!0}),t.prototype.clearParticles=function(){return this.particles.splice(0).length},t.prototype.tick=function(e){if(!this.isExpired&&(this.durationTimer+=e,this.durationTimer>=this.options.duration&&(this.currentLoop++,this.durationTimer=0,this.attemptedBurstIndices=[]),!this.isExpired)){for(var n=0,i=0,r=this.emission.bursts;i<r.length;i++){var o=r[i];if(o.time<=this.durationTimer&&!this.attemptedBurstIndices.includes(n)){for(var s=$t.evaluateVariation(o.count),a=0;a<s;a++)this.emitParticle();this.attemptedBurstIndices.push(n)}n++}this.emissionTimer+=e;for(var c=1/this.emission.rate;this.emissionTimer>c;)this.emissionTimer-=c,this.emitParticle()}for(var u=function(f){var h=l.particles[f];l.tickParticle(h,e),l.options.despawningRules.some(function(d){return d(h)})&&l.particles.splice(f,1)},l=this,a=this.particles.length-1;a>=0;a--)u(a)},t.prototype.tickParticle=function(e,n){e.lifetime-=n,this.options.useGravity&&(e.velocity=e.velocity.add(xo.Vector.up.scale(fd.settings.gravity*n))),e.location=e.location.add(e.velocity.scale(n));for(var i=0,r=this.options.modules;i<r.length;i++){var o=r[i];o(e)}},t.prototype.emitParticle=function(){var e=new hd.Particle({location:this.emission.sourceSampler(),lifetime:$t.evaluateVariation(this.emission.initialLifetime),velocity:xo.Vector.from2dAngle($t.evaluateVariation(this.emission.angle)).scale($t.evaluateVariation(this.emission.initialSpeed)),size:$t.evaluateVariation(this.emission.initialSize),rotation:$t.evaluateVariation(this.emission.initialRotation),color:$t.evaluateVariation(this.emission.initialColor)});return this.particles.push(e),this.particles.length>this.options.maxParticles&&this.particles.shift(),e},t}();on.Emitter=dd;var ze={},_r={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveShapeFactory=t.resolvableShapes=void 0;var e=at;t.resolvableShapes={square:'<div style="height: 10px; width: 10px;"></div>',rectangle:'<div style="height: 6px; width: 10px;"></div>',circle:'<svg viewBox="0 0 2 2" width="10" height="10"><circle cx="1" cy="1" r="1" fill="currentColor"/></svg>',roundedSquare:'<div style="height: 10px; width: 10px; border-radius: 3px;"></div>',roundedRectangle:'<div style="height: 6px; width: 10px; border-radius: 3px;"></div>',star:'<svg viewBox="0 0 512 512" width="15" height="15"><polygon fill="currentColor" points="512,197.816 325.961,185.585 255.898,9.569 185.835,185.585 0,197.816 142.534,318.842 95.762,502.431 255.898,401.21 416.035,502.431 369.263,318.842"/></svg>'};function n(i){var r=e.evaluateVariation(i);if(typeof r=="string"){var o=t.resolvableShapes[r];if(!o)throw new Error("Failed to resolve shape key '"+r+"'. Did you forget to add it to the 'resolvableShapes' lookup?");var s=document.createElement("div");return s.innerHTML=o,s.firstElementChild}return r}t.resolveShapeFactory=n})(_r);var Co;function pd(){if(Co)return ze;Co=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.Renderer=void 0;var t=an(),e=Me,n=vr,i=_r,r=ae,o=function(){function s(){this.elements=new Map,this.light=new e.Vector(0,0,1),this.enabled=!0,this.enabled=!t.settings.respectReducedMotion||!window.matchMedia("(prefers-reduced-motion)").matches}return s.prototype.begin=function(){this.renderedParticles=[]},s.prototype.end=function(){for(var a=this.elements.keys(),c=a.next();!c.done;){var u=c.value;this.renderedParticles.includes(u)||(this.elements.get(u).remove(),this.elements.delete(u)),c=a.next()}return this.renderedParticles.length},s.prototype.renderParticle=function(a,c){if(!!this.enabled){var u=c.renderer,l=this.elements.has(a.id)?this.elements.get(a.id):this.createParticleElement(a,u);if(u.applyColor&&u.applyColor(a.color,l),u.applyOpacity&&u.applyOpacity(a.opacity,l),u.applyLighting){var f=r.rotationToNormal(a.rotation),h=f.dot(this.light);u.applyLighting(h,l)}u.applyTransform&&u.applyTransform(a,l),this.renderedParticles.push(a.id)}},s.prototype.createParticleElement=function(a,c){var u=i.resolveShapeFactory(c.shapeFactory),l=u.cloneNode(!0);return l.style.position="absolute",this.elements.set(a.id,n.particleContainer.current.appendChild(l)),l},s}();return ze.Renderer=o,ze}var Po;function gd(){if(Po)return Te;Po=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.Scene=void 0;var t=$n,e=on,n=pd(),i=function(){function r(){this.emitters=[],this.debug=new t.Debug(this),this.renderer=new n.Renderer,this.scheduledTickId=void 0,this.lastTickTimestamp=performance.now(),this.tick=this.tick.bind(this),this.scheduleTick()}return r.prototype.createEmitter=function(o){var s=new e.Emitter(o);return this.emitters.push(s),s},r.prototype.clearEmitters=function(){return this.emitters.splice(0).length},r.prototype.clearParticles=function(){return this.emitters.reduce(function(o,s){return o+s.clearParticles()},0)},r.prototype.scheduleTick=function(){this.scheduledTickId=window.requestAnimationFrame(this.tick)},r.prototype.cancelTick=function(){window.cancelAnimationFrame(this.scheduledTickId)},r.prototype.tick=function(o){var s=(o-this.lastTickTimestamp)/1e3;try{for(var a=0;a<this.emitters.length;a++){var c=this.emitters[a];c.tick(s),c.isExpired&&c.canRemove&&this.emitters.splice(a--,1)}}catch(v){console.error(`An error occurred while updating the scene's emitters:
"`+v+'"')}try{this.renderer.begin();for(var u=0,l=this.emitters;u<l.length;u++)for(var c=l[u],f=0,h=c.particles;f<h.length;f++){var d=h[f];this.renderer.renderParticle(d,c)}this.renderer.end()}catch(v){console.error(`An error occurred while rendering the scene's particles:
"`+v+'"')}this.debug.tick(s),this.lastTickTimestamp=o,this.scheduleTick()},r}();return Te.Scene=i,Te}var Ci={},Ae={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ModuleBuilder=void 0;var vd=qt,md=function(){function t(){this.factor="lifetime",this.isRelative=!1}return t.prototype.drive=function(e){return this.driverKey=e,this},t.prototype.through=function(e){return this.factor=e,this},t.prototype.by=function(e){return this.driverValue=e,this},t.prototype.relative=function(e){return e===void 0&&(e=!0),this.isRelative=e,this},t.prototype.build=function(){var e=this;if(typeof this.driverKey>"u")throw new Error("No driving key was provided in the module builder. Did you forget a '.drive()' call?");if(typeof this.driverValue>"u")throw new Error("No driving value was provided in the module builder. Did you forget a '.through()' call?");return function(n){nr(n,e.driverKey,yd(e.driverValue,_d(e.factor,n),n),e.isRelative)}},t}();Ee.ModuleBuilder=md;function yd(t,e,n){return typeof t=="object"&&"evaluate"in t?t.evaluate(e):typeof t=="function"?t(e,n):t}function _d(t,e){switch(t){case"lifetime":return e.initialLifetime-e.lifetime;case"relativeLifetime":return(e.initialLifetime-e.lifetime)/e.initialLifetime;case"size":return e.size;default:throw new Error("Invalid driving factor '"+t+"'.")}}function nr(t,e,n,i){if(i===void 0&&(i=!1),!i)t[e]=n;else{var r=t["initial"+e[0].toUpperCase()+e.substr(1)];if(typeof r>"u")throw new Error("Unable to use relative chaining with key '"+e+"'; no initial value exists.");if(n instanceof vd.Vector)nr(t,e,r.add(n));else if(typeof n=="number")nr(t,e,r*n);else throw new Error("Unable to use relative chaining with particle key '"+e+"'; no relative operation for '"+n+"' could be inferred.")}}var Oo;function wd(){if(Oo)return Ae;Oo=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.confetti=void 0;var t=an(),e=qt,n=Ee,i=ut,r=ct,o=at,s=ae;function a(c,u){var l=s.overrideDefaults({count:o.range(20,40),spread:o.range(35,45),speed:o.range(300,600),size:o.skew(1,.2),rotation:function(){return i.randomUnitVector().scale(180)},color:function(){return e.Color.fromHsl(i.randomRange(0,360),100,70)},modules:[new n.ModuleBuilder().drive("size").by(function(h){return Math.min(1,h*3)}).relative().build(),new n.ModuleBuilder().drive("rotation").by(function(h){return new e.Vector(140,200,260).scale(h)}).relative().build()],shapes:["square","circle"]},u),f=t.scene.current.createEmitter({emitterOptions:{loops:1,duration:8,modules:l.modules},emissionOptions:{rate:0,bursts:[{time:0,count:l.count}],sourceSampler:r.dynamicSource(c),angle:o.skew(-90,o.evaluateVariation(l.spread)),initialLifetime:8,initialSpeed:l.speed,initialSize:l.size,initialRotation:l.rotation,initialColor:l.color},rendererOptions:{shapeFactory:l.shapes}});return f}return Ae.confetti=a,Ae}var Re={},To;function bd(){if(To)return Re;To=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.sparkles=void 0;var t=an(),e=qt,n=Ee,i=ut,r=ct,o=at,s=ae;function a(c,u){var l=s.overrideDefaults({lifetime:o.range(1,2),count:o.range(10,20),speed:o.range(100,200),size:o.range(.8,1.8),rotation:function(){return new e.Vector(0,0,i.randomRange(0,360))},color:function(){return e.Color.fromHsl(50,100,i.randomRange(55,85))},modules:[new n.ModuleBuilder().drive("rotation").by(function(h){return new e.Vector(0,0,200).scale(h)}).relative().build(),new n.ModuleBuilder().drive("size").by(new e.NumericSpline({time:0,value:0},{time:.3,value:1},{time:.7,value:1},{time:1,value:0})).through("relativeLifetime").relative().build(),new n.ModuleBuilder().drive("opacity").by(new e.NumericSpline({time:0,value:1},{time:.5,value:1},{time:1,value:0})).through("relativeLifetime").build()],shapes:"star"},u),f=t.scene.current.createEmitter({emitterOptions:{loops:1,duration:3,useGravity:!1,modules:l.modules},emissionOptions:{rate:0,bursts:[{time:0,count:l.count}],sourceSampler:r.dynamicSource(c),angle:o.range(0,360),initialLifetime:l.lifetime,initialSpeed:l.speed,initialSize:l.size,initialRotation:l.rotation,initialColor:l.color},rendererOptions:{applyLighting:void 0,shapeFactory:l.shapes}});return f}return Re.sparkles=a,Re}var zo;function Sd(){return zo||(zo=1,function(t){var e=X&&X.__createBinding||(Object.create?function(i,r,o,s){s===void 0&&(s=o),Object.defineProperty(i,s,{enumerable:!0,get:function(){return r[o]}})}:function(i,r,o,s){s===void 0&&(s=o),i[s]=r[o]}),n=X&&X.__exportStar||function(i,r){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(wd(),t),n(bd(),t)}(Ci)),Ci}var Ao;function an(){return Ao||(Ao=1,function(t){var e=X&&X.__createBinding||(Object.create?function(u,l,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return l[f]}})}:function(u,l,f,h){h===void 0&&(h=f),u[h]=l[f]}),n=X&&X.__exportStar||function(u,l){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(l,f)&&e(l,u,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.forceInit=t.util=t.math=t.random=t.sources=t.variation=t.Emitter=t.Particle=t.settings=t.scene=void 0;var i=gd(),r=ae;n(qt,t),n(Sd(),t),n(_r,t),n(Ee,t),t.scene=new r.Lazy(function(){if(typeof document>"u"||typeof window>"u")throw new Error("It seems like you are trying to run party.js in a non-browser-like environment, which is not supported.");return new i.Scene});var o=ce;Object.defineProperty(t,"settings",{enumerable:!0,get:function(){return o.settings}});var s=sn;Object.defineProperty(t,"Particle",{enumerable:!0,get:function(){return s.Particle}});var a=on;Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return a.Emitter}}),t.variation=at,t.sources=ct,t.random=ut,t.math=Qt,t.util=ae;function c(){t.scene.current}t.forceInit=c,t.default=an()}(Si)),Si}var Pi=an();function Md(t){let e,n;return{c(){e=I("div"),n=I("div"),P(n,"id","map-tooltip"),P(n,"class","svelte-1hzw0le"),P(e,"id","map"),P(e,"class","svelte-1hzw0le")},m(i,r){nt(i,e,r),A(e,n),t[6](n),t[7](e)},p:rt,i:rt,o:rt,d(i){i&&J(e),t[6](null),t[7](null)}}}function Ed(t,e,n){let{questionCity:i}=e,{clickedCodes:r}=e;const o=!1;let s,a,c=()=>{};const u=()=>{st(s).selectAll("path").classed("hit blow miss",!1),c()};rr(async()=>{const d=Math.min(750,st(s).node().getBoundingClientRect().width),v=d*.6;let y={width:d,height:v,margins:{top:8,bottom:8,right:8,left:8}};y.boundedWidth=y.width-y.margins.left-y.margins.right,y.boundedHeight=y.height-y.margins.top-y.margins.bottom;const p=st(s).append("svg").attr("width",d).attr("height",v);function g(b){const{transform:x}=b;W.attr("transform",x),W.attr("stroke-width",1/x.k)}const _=ch().scaleExtent([1,8]).on("zoom",g);p.call(_),c=()=>{p.transition().duration(750).call(_.transform,Je,Ws(p.node()).invert([d/2,v/2]))},p.append("rect").attr("class","background").attr("width",d).attr("height",v).attr("rx",6).attr("ry",6).on("click",()=>{c()});const k=await Ms("./hokkaido.topojson"),E=bh(k,k.objects.hokkaido),O=Zo(E.features,b=>b.properties.code),N=nh().fitExtent([[0,0],[y.boundedWidth,y.boundedHeight]],E),L=jf().projection(N),W=p.append("g").style("transform",`translate(${y.margins.left}px, ${y.margins.top}px)`).append("g").attr("class","land").selectAll("path").data(E.features).enter().append("path").attr("d",L).on("mouseenter",R).on("mousemove",Z).on("mouseleave",j).on("click tap touch",m);function R(b,x){st(this).classed("hovered",!0),r.includes(x.properties.code)&&st(a).html(x.properties.name).transition().duration(300).style("opacity",1)}function Z(b,x){if(r.includes(x.properties.code)){const C=jt(b,p.node());st(a).style("left",`${C[0]}px`).style("top",`${C[1]}px`)}}function j(b,x){st(this).classed("hovered",!1),r.includes(x.properties.code)&&st(a).transition().duration(300).style("opacity",0)}function m(b,x){const C=x.properties.code;r.length>=Yn||r.includes(C)||r.includes(i.code)||(n(2,r=[...r,C]),C===i.code?(st(this).classed("hit",!0),l(b)):x.properties.region===i.region?st(this).classed("blow",!0):st(this).classed("miss",!0),(C===i.code||r.length>=Yn)&&(r.includes(i.code)||setTimeout(()=>{Pu("path").filter(z=>z.properties.code===i.code).classed("hit",!0)},2e3*.75),w(b,O.get(i.code),2e3,5)))}function w(b,x,C,T){const[[z,B],[q,G]]=L.bounds(x);b.stopPropagation(),p.transition().duration(C).call(_.transform,Je.translate(d/2,v/2).scale(Math.min(T,.9/Math.max((q-z)/d,(G-B)/v))).translate(-(z+q)/2,-(B+G)/2),jt(b,p.node()))}});function l(d){Pi.confetti(d,{count:Pi.variation.range(80,160),color:()=>Pi.Color.fromHex("#6aaa64")})}function f(d){At[d?"unshift":"push"](()=>{a=d,n(1,a)})}function h(d){At[d?"unshift":"push"](()=>{s=d,n(0,s)})}return t.$$set=d=>{"questionCity"in d&&n(3,i=d.questionCity),"clickedCodes"in d&&n(2,r=d.clickedCodes)},[s,a,r,i,o,u,f,h]}class kd extends Dt{constructor(e){super(),It(this,e,Ed,Md,Lt,{questionCity:3,clickedCodes:2,finished:4,resetMap:5})}get finished(){return this.$$.ctx[4]}get resetMap(){return this.$$.ctx[5]}}var vt=63710088e-1,xd={centimeters:vt*100,centimetres:vt*100,degrees:vt/111325,feet:vt*3.28084,inches:vt*39.37,kilometers:vt/1e3,kilometres:vt/1e3,meters:vt,metres:vt,miles:vt/1609.344,millimeters:vt*1e3,millimetres:vt*1e3,nauticalmiles:vt/1852,radians:1,yards:vt*1.0936};function Cd(t,e){e===void 0&&(e="kilometers");var n=xd[e];if(!n)throw new Error(e+" units is invalid");return t*n}function Pd(t){var e=t%(2*Math.PI);return e*180/Math.PI}function Jt(t){var e=t%360;return e*Math.PI/180}function Kn(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Od(t,e,n){n===void 0&&(n={});var i=Kn(t),r=Kn(e),o=Jt(r[1]-i[1]),s=Jt(r[0]-i[0]),a=Jt(i[1]),c=Jt(r[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(c);return Cd(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function Zs(t,e,n){if(n===void 0&&(n={}),n.final===!0)return Td(t,e);var i=Kn(t),r=Kn(e),o=Jt(i[0]),s=Jt(r[0]),a=Jt(i[1]),c=Jt(r[1]),u=Math.sin(s-o)*Math.cos(c),l=Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(s-o);return Pd(Math.atan2(u,l))}function Td(t,e){var n=Zs(e,t);return n=(n+180)%360,n}function Ro(t,e,n){const i=t.slice();return i[4]=e[n],i}function No(t,e,n){const i=t.slice();return i[7]=e[n],i}function Bo(t){let e,n;return e=new Vs({props:{char:t[7].char,face:t[7].face,style:t[7].style,delay:t[7].delay}}),{c(){_t(e.$$.fragment)},m(i,r){ft(e,i,r),n=!0},p(i,r){const o={};r&1&&(o.char=i[7].char),r&1&&(o.face=i[7].face),r&1&&(o.style=i[7].style),r&1&&(o.delay=i[7].delay),e.$set(o)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){H(e.$$.fragment,i),n=!1},d(i){ht(e,i)}}}function Lo(t){let e,n;return e=new Hs({props:{content:t[4]}}),{c(){_t(e.$$.fragment)},m(i,r){ft(e,i,r),n=!0},p(i,r){const o={};r&1&&(o.content=i[4]),e.$set(o)},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){H(e.$$.fragment,i),n=!1},d(i){ht(e,i)}}}function Io(t){let e,n,i,r=t[4].hint+"",o,s,a,c,u,l,f,h=t[4].tiles,d=[];for(let p=0;p<h.length;p+=1)d[p]=Bo(No(t,h,p));const v=p=>H(d[p],1,1,()=>{d[p]=null});let y=t[4].answered&&Lo(t);return{c(){e=I("div"),n=I("div"),i=I("span"),o=zt(r),s=ot(),a=I("div");for(let p=0;p<d.length;p+=1)d[p].c();c=ot(),u=I("div"),y&&y.c(),l=ot(),P(i,"class","material-symbols-outlined svelte-fkprtm"),P(n,"class","hint svelte-fkprtm"),Y(n,"answered",t[4].answered),P(a,"class","tile-container svelte-fkprtm"),P(u,"class","tooltip-container svelte-fkprtm"),Y(u,"answered",t[4].answered),P(e,"class","answer-row svelte-fkprtm")},m(p,g){nt(p,e,g),A(e,n),A(n,i),A(i,o),A(e,s),A(e,a);for(let _=0;_<d.length;_+=1)d[_].m(a,null);A(e,c),A(e,u),y&&y.m(u,null),A(e,l),f=!0},p(p,g){if((!f||g&1)&&r!==(r=p[4].hint+"")&&Qe(o,r),g&1&&Y(n,"answered",p[4].answered),g&1){h=p[4].tiles;let _;for(_=0;_<h.length;_+=1){const S=No(p,h,_);d[_]?(d[_].p(S,g),F(d[_],1)):(d[_]=Bo(S),d[_].c(),F(d[_],1),d[_].m(a,null))}for(Nt(),_=h.length;_<d.length;_+=1)v(_);Bt()}p[4].answered?y?(y.p(p,g),g&1&&F(y,1)):(y=Lo(p),y.c(),F(y,1),y.m(u,null)):y&&(Nt(),H(y,1,1,()=>{y=null}),Bt()),g&1&&Y(u,"answered",p[4].answered)},i(p){if(!f){for(let g=0;g<h.length;g+=1)F(d[g]);F(y),f=!0}},o(p){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)H(d[g]);H(y),f=!1},d(p){p&&J(e),Un(d,p),y&&y.d()}}}function zd(t){let e,n,i=t[0],r=[];for(let s=0;s<i.length;s+=1)r[s]=Io(Ro(t,i,s));const o=s=>H(r[s],1,1,()=>{r[s]=null});return{c(){e=I("div");for(let s=0;s<r.length;s+=1)r[s].c();P(e,"id","answer-grid"),P(e,"class","svelte-fkprtm")},m(s,a){nt(s,e,a);for(let c=0;c<r.length;c+=1)r[c].m(e,null);n=!0},p(s,[a]){if(a&1){i=s[0];let c;for(c=0;c<i.length;c+=1){const u=Ro(s,i,c);r[c]?(r[c].p(u,a),F(r[c],1)):(r[c]=Io(u),r[c].c(),F(r[c],1),r[c].m(e,null))}for(Nt(),c=i.length;c<r.length;c+=1)o(c);Bt()}},i(s){if(!n){for(let a=0;a<i.length;a+=1)F(r[a]);n=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)H(r[a]);n=!1},d(s){s&&J(e),Un(r,s)}}}function Ad(t,e){let n=[...t.padEnd(5,"_")],r=[...e.padEnd(5,"_")].map((o,s)=>({char:o,style:"miss",face:"front",delay:.35*s}));return r.forEach((o,s)=>{o.char===n[s]&&(o.style="hit",n[s]=null)}),r.forEach((o,s)=>{o.style!="hit"&&n.includes(o.char)&&(o.style="blow",n[n.indexOf(o.char)]=null)}),r}function Rd(t,e){let n=[...t],i=[...e].map(r=>({char:r,category:"miss"}));return i.forEach((r,o)=>{r.char===n[o]&&(r.category="hit",n[o]=null)}),i.forEach((r,o)=>{r.category!="hit"&&n.includes(r.char)&&(r.category="blow",n[n.indexOf(r.char)]=null)}),i}function Nd(t,e,n){let i,{questionCity:r}=e,{clickedCities:o}=e;function s(a,c){if(a===c)return"star";let u=Zs(c,a);u<0&&(u=u+360);let l=`${u.toFixed()}\xB0`;0<=u&&u<=22.5?l="north":u<=67.5?l="north_east":u<=112.5?l="east":u<=157.5?l="south_east":u<=202.5?l="south":u<=247.5?l="south_west":u<=292.5?l="west":u<=337.5?l="north_west":337.5<u&&u<=360&&(l="north");const f=Od(c,a);let h=10;return f<50?h=1:f<150?h=2:h=3,Array(h).fill(l).join(" ")}return t.$$set=a=>{"questionCity"in a&&n(1,r=a.questionCity),"clickedCities"in a&&n(2,o=a.clickedCities)},t.$$.update=()=>{t.$$.dirty&6&&n(0,i=Array(Yn).fill().map((a,c)=>{if(c>=o.length){const d=Array(5).fill().map(v=>({char:"",style:"default",face:"back",delay:0}));return{answered:!1,tiles:d,regionTiles:[],hint:""}}const u=o[c],l=Ad(r.name,u.name),f=Rd(r.region,u.region),h=s(r.coordinates,u.coordinates);return{answered:!0,city:u,tiles:l,regionTiles:f,hint:h}}))},[i,r,o]}class Bd extends Dt{constructor(e){super(),It(this,e,Nd,zd,Lt,{questionCity:1,clickedCities:2})}}function Do(t){let e,n,i,r,o,s;return{c(){e=I("div"),n=I("button"),n.innerHTML='<span class="material-symbols-outlined svelte-1o5b34">refresh</span>',P(e,"id","refresh"),P(e,"class","svelte-1o5b34")},m(a,c){nt(a,e,c),A(e,n),r=!0,o||(s=bt(n,"click",t[5]),o=!0)},p:rt,i(a){r||(ie(()=>{i||(i=pe(e,zi,{delay:0,duration:700},!0)),i.run(1)}),r=!0)},o(a){i||(i=pe(e,zi,{delay:0,duration:700},!1)),i.run(0),r=!1},d(a){a&&J(e),a&&i&&i.end(),o=!1,s()}}}function Ld(t){let e,n,i,r,o,s,a,c,u,l,f;n=new mh({props:{city:t[0],finished:t[4],refresh:t[5]}});function h(g){t[8](g)}function d(g){t[9](g)}function v(g){t[10](g)}let y={questionCity:t[0]};t[1]!==void 0&&(y.clickedCodes=t[1]),t[4]!==void 0&&(y.finished=t[4]),t[3]!==void 0&&(y.resetMap=t[3]),r=new kd({props:y}),At.push(()=>pi(r,"clickedCodes",h)),At.push(()=>pi(r,"finished",d)),At.push(()=>pi(r,"resetMap",v)),u=new Bd({props:{questionCity:t[0],clickedCities:t[2]}});let p=t[4]&&Do(t);return{c(){e=I("main"),_t(n.$$.fragment),i=ot(),_t(r.$$.fragment),c=ot(),_t(u.$$.fragment),l=ot(),p&&p.c(),P(e,"class","svelte-1o5b34")},m(g,_){nt(g,e,_),ft(n,e,null),A(e,i),ft(r,e,null),A(e,c),ft(u,e,null),A(e,l),p&&p.m(e,null),f=!0},p(g,[_]){const S={};_&1&&(S.city=g[0]),_&16&&(S.finished=g[4]),n.$set(S);const k={};_&1&&(k.questionCity=g[0]),!o&&_&2&&(o=!0,k.clickedCodes=g[1],fi(()=>o=!1)),!s&&_&16&&(s=!0,k.finished=g[4],fi(()=>s=!1)),!a&&_&8&&(a=!0,k.resetMap=g[3],fi(()=>a=!1)),r.$set(k);const E={};_&1&&(E.questionCity=g[0]),_&4&&(E.clickedCities=g[2]),u.$set(E),g[4]?p?(p.p(g,_),_&16&&F(p,1)):(p=Do(g),p.c(),F(p,1),p.m(e,null)):p&&(Nt(),H(p,1,1,()=>{p=null}),Bt())},i(g){f||(F(n.$$.fragment,g),F(r.$$.fragment,g),F(u.$$.fragment,g),F(p),f=!0)},o(g){H(n.$$.fragment,g),H(r.$$.fragment,g),H(u.$$.fragment,g),H(p),f=!1},d(g){g&&J(e),ht(n),ht(r),ht(u),p&&p.d()}}}function Id(t,e,n){let i,r,o,s=[],a={name:"",region:""};const c=()=>{n(0,a=s[Math.floor(Math.random()*s.length)])};let u=[];rr(async()=>{n(6,s=await Ms("./cities.json")),c()});let l,f=()=>{l(),n(1,u=[]),c()};function h(y){u=y,n(1,u)}function d(y){o=y,n(4,o),n(1,u),n(2,r),n(0,a),n(7,i),n(6,s)}function v(y){l=y,n(3,l)}return t.$$.update=()=>{t.$$.dirty&64&&n(7,i=Zo(s,y=>y.code)),t.$$.dirty&130&&n(2,r=u.map(y=>i.get(y))),t.$$.dirty&7&&n(4,o=u.length>=Yn||r.map(y=>y.code).includes(a.code))},[a,u,r,l,o,f,s,i,h,d,v]}class Dd extends Dt{constructor(e){super(),It(this,e,Id,Ld,Lt,{})}}const{window:Fd}=Aa;function Fo(t){let e,n,i,r,o,s,a,c,u,l,f,h,d,v,y,p,g,_=t[1].closeButton&&qo(t);var S=t[2];function k(E){return{}}return S&&(s=new S(k())),{c(){e=I("div"),n=I("div"),i=I("div"),_&&_.c(),r=ot(),o=I("div"),s&&_t(s.$$.fragment),P(o,"class",a=lt(t[1].classContent)+" svelte-g4wg3a"),P(o,"style",t[9]),Y(o,"content",!t[0]),P(i,"class",c=lt(t[1].classWindow)+" svelte-g4wg3a"),P(i,"role","dialog"),P(i,"aria-modal","true"),P(i,"aria-label",u=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),P(i,"aria-labelledby",l=t[1].ariaLabelledBy||null),P(i,"style",t[8]),Y(i,"window",!t[0]),P(n,"class",h=lt(t[1].classWindowWrap)+" svelte-g4wg3a"),P(n,"style",t[7]),Y(n,"wrap",!t[0]),P(e,"class",d=lt(t[1].classBg)+" svelte-g4wg3a"),P(e,"style",t[6]),Y(e,"bg",!t[0])},m(E,O){nt(E,e,O),A(e,n),A(n,i),_&&_.m(i,null),A(i,r),A(i,o),s&&ft(s,o,null),t[49](i),t[50](n),t[51](e),y=!0,p||(g=[bt(i,"introstart",function(){te(t[13])&&t[13].apply(this,arguments)}),bt(i,"outrostart",function(){te(t[14])&&t[14].apply(this,arguments)}),bt(i,"introend",function(){te(t[15])&&t[15].apply(this,arguments)}),bt(i,"outroend",function(){te(t[16])&&t[16].apply(this,arguments)}),bt(e,"mousedown",t[20]),bt(e,"mouseup",t[21])],p=!0)},p(E,O){if(t=E,t[1].closeButton?_?(_.p(t,O),O[0]&2&&F(_,1)):(_=qo(t),_.c(),F(_,1),_.m(i,r)):_&&(Nt(),H(_,1,1,()=>{_=null}),Bt()),S!==(S=t[2])){if(s){Nt();const N=s;H(N.$$.fragment,1,0,()=>{ht(N,1)}),Bt()}S?(s=new S(k()),_t(s.$$.fragment),F(s.$$.fragment,1),ft(s,o,null)):s=null}(!y||O[0]&2&&a!==(a=lt(t[1].classContent)+" svelte-g4wg3a"))&&P(o,"class",a),(!y||O[0]&512)&&P(o,"style",t[9]),O[0]&3&&Y(o,"content",!t[0]),(!y||O[0]&2&&c!==(c=lt(t[1].classWindow)+" svelte-g4wg3a"))&&P(i,"class",c),(!y||O[0]&2&&u!==(u=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&P(i,"aria-label",u),(!y||O[0]&2&&l!==(l=t[1].ariaLabelledBy||null))&&P(i,"aria-labelledby",l),(!y||O[0]&256)&&P(i,"style",t[8]),O[0]&3&&Y(i,"window",!t[0]),(!y||O[0]&2&&h!==(h=lt(t[1].classWindowWrap)+" svelte-g4wg3a"))&&P(n,"class",h),(!y||O[0]&128)&&P(n,"style",t[7]),O[0]&3&&Y(n,"wrap",!t[0]),(!y||O[0]&2&&d!==(d=lt(t[1].classBg)+" svelte-g4wg3a"))&&P(e,"class",d),(!y||O[0]&64)&&P(e,"style",t[6]),O[0]&3&&Y(e,"bg",!t[0])},i(E){y||(F(_),s&&F(s.$$.fragment,E),ie(()=>{f||(f=pe(i,t[12],t[1].transitionWindowProps,!0)),f.run(1)}),ie(()=>{v||(v=pe(e,t[11],t[1].transitionBgProps,!0)),v.run(1)}),y=!0)},o(E){H(_),s&&H(s.$$.fragment,E),f||(f=pe(i,t[12],t[1].transitionWindowProps,!1)),f.run(0),v||(v=pe(e,t[11],t[1].transitionBgProps,!1)),v.run(0),y=!1},d(E){E&&J(e),_&&_.d(),s&&ht(s),t[49](null),E&&f&&f.end(),t[50](null),t[51](null),E&&v&&v.end(),p=!1,Kt(g)}}}function qo(t){let e,n,i,r,o;const s=[Wd,qd],a=[];function c(u,l){return l[0]&2&&(e=null),e==null&&(e=!!u[17](u[1].closeButton)),e?0:1}return n=c(t,[-1,-1,-1]),i=a[n]=s[n](t),{c(){i.c(),r=Go()},m(u,l){a[n].m(u,l),nt(u,r,l),o=!0},p(u,l){let f=n;n=c(u,l),n===f?a[n].p(u,l):(Nt(),H(a[f],1,1,()=>{a[f]=null}),Bt(),i=a[n],i?i.p(u,l):(i=a[n]=s[n](u),i.c()),F(i,1),i.m(r.parentNode,r))},i(u){o||(F(i),o=!0)},o(u){H(i),o=!1},d(u){a[n].d(u),u&&J(r)}}}function qd(t){let e,n,i,r;return{c(){e=I("button"),P(e,"class",n=lt(t[1].classCloseButton)+" svelte-g4wg3a"),P(e,"aria-label","Close modal"),P(e,"style",t[10]),P(e,"type","button"),Y(e,"close",!t[0])},m(o,s){nt(o,e,s),i||(r=bt(e,"click",t[18]),i=!0)},p(o,s){s[0]&2&&n!==(n=lt(o[1].classCloseButton)+" svelte-g4wg3a")&&P(e,"class",n),s[0]&1024&&P(e,"style",o[10]),s[0]&3&&Y(e,"close",!o[0])},i:rt,o:rt,d(o){o&&J(e),i=!1,r()}}}function Wd(t){let e,n,i;var r=t[1].closeButton;function o(s){return{props:{onClose:s[18]}}}return r&&(e=new r(o(t))),{c(){e&&_t(e.$$.fragment),n=Go()},m(s,a){e&&ft(e,s,a),nt(s,n,a),i=!0},p(s,a){if(r!==(r=s[1].closeButton)){if(e){Nt();const c=e;H(c.$$.fragment,1,0,()=>{ht(c,1)}),Bt()}r?(e=new r(o(s)),_t(e.$$.fragment),F(e.$$.fragment,1),ft(e,n.parentNode,n)):e=null}},i(s){i||(e&&F(e.$$.fragment,s),i=!0)},o(s){e&&H(e.$$.fragment,s),i=!1},d(s){s&&J(n),e&&ht(e,s)}}}function Vd(t){let e,n,i,r,o=t[2]&&Fo(t);const s=t[48].default,a=ca(s,t,t[47],null);return{c(){o&&o.c(),e=ot(),a&&a.c()},m(c,u){o&&o.m(c,u),nt(c,e,u),a&&a.m(c,u),n=!0,i||(r=bt(Fd,"keydown",t[19]),i=!0)},p(c,u){c[2]?o?(o.p(c,u),u[0]&4&&F(o,1)):(o=Fo(c),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(Nt(),H(o,1,1,()=>{o=null}),Bt()),a&&a.p&&(!n||u[1]&65536)&&ha(a,s,c,c[47],n?fa(s,c[47],u,null):da(c[47]),null)},i(c){n||(F(o),F(a,c),n=!0)},o(c){H(o),H(a,c),n=!1},d(c){o&&o.d(c),c&&J(e),a&&a.d(c),i=!1,r()}}}function Hd(t,e={}){return function(i){return new t({...i,props:{...e,...i.props}})}}function jd(t,e,n){let{$$slots:i={},$$scope:r}=e;const o=Ea(),s=ka,a=M=>M.tabIndex>=0&&!M.hidden&&!M.disabled&&M.style.display!=="none"&&M.type!=="hidden"&&Boolean(M.offsetWidth||M.offsetHeight||M.getClientRects().length);let{isTabbable:c=a}=e,{show:u=null}=e,{key:l="simple-modal"}=e,{ariaLabel:f=null}=e,{ariaLabelledBy:h=null}=e,{closeButton:d=!0}=e,{closeOnEsc:v=!0}=e,{closeOnOuterClick:y=!0}=e,{styleBg:p={}}=e,{styleWindowWrap:g={}}=e,{styleWindow:_={}}=e,{styleContent:S={}}=e,{styleCloseButton:k={}}=e,{classBg:E=null}=e,{classWindowWrap:O=null}=e,{classWindow:N=null}=e,{classContent:L=null}=e,{classCloseButton:D=null}=e,{unstyled:W=!1}=e,{setContext:R=s}=e,{transitionBg:Z=zi}=e,{transitionBgProps:j={duration:250}}=e,{transitionWindow:m=Z}=e,{transitionWindowProps:w=j}=e,{disableFocusTrap:b=!1}=e;const x={ariaLabel:f,ariaLabelledBy:h,closeButton:d,closeOnEsc:v,closeOnOuterClick:y,styleBg:p,styleWindowWrap:g,styleWindow:_,styleContent:S,styleCloseButton:k,classBg:E,classWindowWrap:O,classWindow:N,classContent:L,classCloseButton:D,transitionBg:Z,transitionBgProps:j,transitionWindow:m,transitionWindowProps:w,disableFocusTrap:b,isTabbable:c,unstyled:W};let C={...x},T=null,z,B,q,G,U,$,Mt,pt,Et,fe,wr,br,Sr,Mr,Er;const Js=M=>M.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),ke=M=>M?Object.keys(M).reduce((xe,Wt)=>`${xe}; ${Js(Wt)}: ${M[Wt]}`,""):"",kr=M=>!!(M&&M.constructor&&M.call&&M.apply),Qs=()=>{n(6,U=ke(Object.assign({},{width:window.innerWidth,height:window.innerHeight},C.styleBg))),n(7,$=ke(C.styleWindowWrap)),n(8,Mt=ke(C.styleWindow)),n(9,pt=ke(C.styleContent)),n(10,Et=ke(C.styleCloseButton)),n(11,fe=C.transitionBg),n(12,wr=C.transitionWindow)},ln=()=>{};let xr=ln,un=ln,Cr=ln,cn=ln;const Pr=(M,xe={},Wt={},gt={})=>{n(2,T=Hd(M,xe)),n(1,C={...x,...Wt}),Qs(),na(),n(13,xr=Vt=>{gt.onOpen&&gt.onOpen(Vt),o("open"),o("opening")}),n(14,un=Vt=>{gt.onClose&&gt.onClose(Vt),o("close"),o("closing")}),n(15,Cr=Vt=>{gt.onOpened&&gt.onOpened(Vt),o("opened")}),n(16,cn=Vt=>{gt.onClosed&&gt.onClosed(Vt),o("closed")})},he=(M={})=>{!T||(n(14,un=M.onClose||un),n(16,cn=M.onClosed||cn),n(2,T=null),ia())},$s=M=>{if(C.closeOnEsc&&T&&M.key==="Escape"&&(M.preventDefault(),he()),T&&M.key==="Tab"&&!C.disableFocusTrap){const xe=q.querySelectorAll("*"),Wt=Array.from(xe).filter(C.isTabbable).sort((Vt,aa)=>Vt.tabIndex-aa.tabIndex);let gt=Wt.indexOf(document.activeElement);gt===-1&&M.shiftKey&&(gt=0),gt+=Wt.length+(M.shiftKey?-1:1),gt%=Wt.length,Wt[gt].focus(),M.preventDefault()}},ta=M=>{C.closeOnOuterClick&&(M.target===z||M.target===B)&&(Er=M.target)},ea=M=>{C.closeOnOuterClick&&M.target===Er&&(M.preventDefault(),he())},na=()=>{G=window.scrollY,br=document.body.style.position,Sr=document.body.style.overflow,Mr=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${G}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},ia=()=>{document.body.style.position=br||"",document.body.style.top="",document.body.style.overflow=Sr||"",document.body.style.width=Mr||"",window.scrollTo(0,G)};R(l,{open:Pr,close:he});let fn=!1;Ma(()=>{fn&&he()}),rr(()=>{n(46,fn=!0)});function ra(M){At[M?"unshift":"push"](()=>{q=M,n(5,q)})}function oa(M){At[M?"unshift":"push"](()=>{B=M,n(4,B)})}function sa(M){At[M?"unshift":"push"](()=>{z=M,n(3,z)})}return t.$$set=M=>{"isTabbable"in M&&n(22,c=M.isTabbable),"show"in M&&n(23,u=M.show),"key"in M&&n(24,l=M.key),"ariaLabel"in M&&n(25,f=M.ariaLabel),"ariaLabelledBy"in M&&n(26,h=M.ariaLabelledBy),"closeButton"in M&&n(27,d=M.closeButton),"closeOnEsc"in M&&n(28,v=M.closeOnEsc),"closeOnOuterClick"in M&&n(29,y=M.closeOnOuterClick),"styleBg"in M&&n(30,p=M.styleBg),"styleWindowWrap"in M&&n(31,g=M.styleWindowWrap),"styleWindow"in M&&n(32,_=M.styleWindow),"styleContent"in M&&n(33,S=M.styleContent),"styleCloseButton"in M&&n(34,k=M.styleCloseButton),"classBg"in M&&n(35,E=M.classBg),"classWindowWrap"in M&&n(36,O=M.classWindowWrap),"classWindow"in M&&n(37,N=M.classWindow),"classContent"in M&&n(38,L=M.classContent),"classCloseButton"in M&&n(39,D=M.classCloseButton),"unstyled"in M&&n(0,W=M.unstyled),"setContext"in M&&n(40,R=M.setContext),"transitionBg"in M&&n(41,Z=M.transitionBg),"transitionBgProps"in M&&n(42,j=M.transitionBgProps),"transitionWindow"in M&&n(43,m=M.transitionWindow),"transitionWindowProps"in M&&n(44,w=M.transitionWindowProps),"disableFocusTrap"in M&&n(45,b=M.disableFocusTrap),"$$scope"in M&&n(47,r=M.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&fn&&(kr(u)?Pr(u):he())},[W,C,T,z,B,q,U,$,Mt,pt,Et,fe,wr,xr,un,Cr,cn,kr,he,$s,ta,ea,c,u,l,f,h,d,v,y,p,g,_,S,k,E,O,N,L,D,R,Z,j,m,w,b,fn,r,i,ra,oa,sa]}class Xd extends Dt{constructor(e){super(),It(this,e,jd,Vd,Lt,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}function Yd(t){let e,n;return e=new Da({}),{c(){_t(e.$$.fragment)},m(i,r){ft(e,i,r),n=!0},i(i){n||(F(e.$$.fragment,i),n=!0)},o(i){H(e.$$.fragment,i),n=!1},d(i){ht(e,i)}}}function Gd(t){let e,n,i,r;return e=new Xd({props:{$$slots:{default:[Yd]},$$scope:{ctx:t}}}),i=new Dd({}),{c(){_t(e.$$.fragment),n=ot(),_t(i.$$.fragment)},m(o,s){ft(e,o,s),nt(o,n,s),ft(i,o,s),r=!0},p(o,[s]){const a={};s&1&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){r||(F(e.$$.fragment,o),F(i.$$.fragment,o),r=!0)},o(o){H(e.$$.fragment,o),H(i.$$.fragment,o),r=!1},d(o){ht(e,o),o&&J(n),ht(i,o)}}}class Kd extends Dt{constructor(e){super(),It(this,e,null,Gd,Lt,{})}}new Kd({target:document.getElementById("app")});
